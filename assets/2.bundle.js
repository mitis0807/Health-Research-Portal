(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1277:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),n=a(21),r=a(0),i=b(r);a(103);var s=a(36),l=b(a(29)),d=b(a(1342)),u=b(a(197)),p=b(a(1343)),c=b(a(1344)),f=b(a(1345)),m=b(a(1348)),h=b(a(1350)),g=b(a(1351)),v=b(a(46));function b(e){return e&&e.__esModule?e:{default:e}}a(37);var y=n.Modal.error,w=void 0,C=n.Tabs.TabPane,S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={key:"1",proposalId:"",tab2:!1,tab3:!1,tab4:!1,tab5:!1,tab6:!1,tagState:[]},w=a,a.handleTabChange=a.handleTabChange.bind(a),a.getData=a.getData.bind(a),a.getTagStatus=a.getTagStatus.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"callback",value:function(e,t){w.setState({key:e}),!0===t.tab2&&w.setState({tab2:!0}),!0===t.tab3&&w.setState({tab3:!0}),!0===t.tab4&&w.setState({tab4:!0}),!0===t.tab5&&w.setState({tab5:!0}),!0===t.tab6&&w.setState({tab6:!0})}}]),o(t,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(window.location.search).get("id");fetch(l.default.APIURL+"/getProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({proposalId:t})}).then((function(e){return e.json()})).then((function(t){console.log("res **************"),console.log(t),200===t.status?(console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^6",t.proposalData),e.setState({tagState:t.proposalData.coinvestigator}),t.proposalData.title&&t.proposalData.background&&t.proposalData.objectives&&t.proposalData.studyMethods&&t.proposalData.expectedOutcomes&&t.proposalData.keywords&&e.setState({tab2:!0}),void 0!==t.proposalData.studentResearch&&t.proposalData.startDate&&t.proposalData.endDate&&t.proposalData.keyInstitution&&void 0!==t.proposalData.multiCountryResearch&&void 0!==t.proposalData.nationWideResearch&&t.proposalData.researchDomain&&t.proposalData.researchField&&t.proposalData.otherResearchForm&&void 0!==t.proposalData.humanSubjects&&t.proposalData.dataCollection&&void 0!==t.proposalData.otherCommitte&&e.setState({tab3:!0}),t.proposalData.source&&t.proposalData.amount&&e.setState({tab4:!0}),void 0!==t.proposalData.identity&&void 0!==t.proposalData.age&&void 0!==t.proposalData.dependentRelation&&void 0!==t.proposalData.minorityGroup&&void 0!==t.proposalData.mentalImpairment&&void 0!==t.proposalData.pregnant&&void 0!==t.proposalData.anyTest&&void 0!==t.proposalData.biologicalSamples&&void 0!==t.proposalData.ionizationRadiation&&void 0!==t.proposalData.distress&&void 0!==t.proposalData.inducements&&void 0!==t.proposalData.sensitiveInfo&&void 0!==t.proposalData.reproductiveTech&&void 0!==t.proposalData.humanGenetic&&void 0!==t.proposalData.stemCell&&void 0!==t.proposalData.biosafeIssue&&e.setState({tab5:!0}),t.proposalData.levelRisk&&(t.proposalData.riskApply||t.proposalData.briefRisk||t.proposalData.managedRisk)&&t.proposalData.benefits&&void 0!==t.proposalData.multiInistitution&&void 0!==t.proposalData.conflict&&e.setState({tab6:!0})):300===t.status?s.toast.error(t.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):401===t.status&&y({title:v.default.SessionExpired+t.message,content:"",onOk:function(){w.props.history.push("/signIn")}})}))}},{key:"getData",value:function(e){this.setState({proposalId:e})}},{key:"getTagStatus",value:function(e){this.setState({tagState:e},(function(){}))}},{key:"handleTabChange",value:function(e){this.state.key===e||"1"===this.state.key||confirm("Are you sure you want to leave this page ?")?w.setState({key:e}):w.setState({key:w.state.key})}},{key:"render",value:function(){return document.title="Edit Proposal | "+v.default.PageTitle,i.default.createElement("div",null,i.default.createElement(u.default,{propertyProps:this.props}),i.default.createElement(n.Card,{className:"cardcss",style:{marginBottom:"22px !important"},title:i.default.createElement("b",null,"Edit Proposal")},i.default.createElement(n.Tabs,{activeKey:w.state.key,onTabClick:this.handleTabChange},i.default.createElement(C,{tab:i.default.createElement("b",null,"Submission"),key:"1"},i.default.createElement(p.default,null)),i.default.createElement(C,{tab:i.default.createElement("b",null,"Titles and abstract"),key:"2"},i.default.createElement(c.default,{sendData:this.getData,proposalId:this.state.proposalId})),i.default.createElement(C,{tab:i.default.createElement("b",null,"Proposal details"),key:"3"},i.default.createElement(f.default,{tagStatus:this.getTagStatus,sendData:this.getData,proposalId:this.state.proposalId})),i.default.createElement(C,{tab:i.default.createElement("b",null,"Sources of monetary or material support"),key:"4"},i.default.createElement(m.default,{sendData:this.getData,proposalId:this.state.proposalId})),i.default.createElement(C,{tab:i.default.createElement("b",null,"Risk assessment"),key:"5"},i.default.createElement(h.default,{sendData:this.getData,proposalId:this.state.proposalId})),i.default.createElement(C,{tab:i.default.createElement("b",null,"Potential risks and benefits"),key:"6"},i.default.createElement(g.default,{sendData:this.getData,proposalId:this.state.proposalId})),i.default.createElement(C,{tab:i.default.createElement("b",null,"Uploading supplementary files"),key:"7"}," ",i.default.createElement(d.default,{sendData:this.getData,Tab7Props:this.props,proposalId:this.state.proposalId,tabsStatus:this.state})))))}}]),t}(r.Component);t.default=S},1342:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),r=a(0),i=u(r),s=a(21),l=a(36),d=u(a(29));function u(e){return e&&e.__esModule?e:{default:e}}a(37);var p=void 0,c=new URLSearchParams(window.location.search).get("id"),f=s.Form.Item,m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSubmit=function(e){e.preventDefault(),!0!==a.props.tabsStatus.tab2?l.toast.error("Some fields are missing in Titles and Abstract",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):!0!==a.props.tabsStatus.tab3?l.toast.error("Some fields are missing in Proposal Details",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):!0!==a.props.tabsStatus.tab4?l.toast.error("Some fields are missing in Sources of monetary or material support",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):!0!==a.props.tabsStatus.tab5?l.toast.error("Some fields are missing in Risk Assessment",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):!0!==a.props.tabsStatus.tab6&&l.toast.error("Some fields are missing in otential risk and benifits",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}),a.props.form.validateFields((function(e,t){if(!e&&!0===a.props.tabsStatus.tab2&&!0===a.props.tabsStatus.tab3&&!0===a.props.tabsStatus.tab4&&!0===a.props.tabsStatus.tab5&&!0===a.props.tabsStatus.tab6){t.proposalId=a.state.proposalFormid,a.state.disabledButton=!0,a.setState({disabledButton:!0}),t.isProposal=!0;var o=Object.assign(t,a.state.data);console.log("valuessssssssssssssssssssssssss",o),fetch(d.default.APIURL+"/submitProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({data:o})}).then((function(e){return e.json()})).then((function(e){200===e.status?(a.state.disabledButton=!1,a.setState({disabledButton:!1}),e.proposalData.proposalId&&(p=e.proposalData.proposalId,a.props.sendData(p)),l.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}),a.props.Tab7Props.history.push("/manageProposal")):300===e.status?(a.setState({disabledButton:!1,serverSideValidationError:[]}),l.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):500===e.status?a.props.history.push("/serverError"):400===e.status?a.props.history.push("/badRequest"):403===e.status?a.props.history.push("/forbiddenRequest"):422===e.status&&a.setState({disabledButton:!1,serverSideValidationError:e.message})}))}}))},a.dummyRequestCurriculumVitae=function(e){var t=e.file,o=e.onSuccess;console.log("dummyRequestCurriculumVitae",t),a.setState({curriculumVitae:t},(function(){})),setTimeout((function(){o("ok")}),0)},a.dummyRequestGroupCoInvestigator=function(e){var t=e.file,o=e.onSuccess;console.log("dummyRequestGroupCoInvestigator",t),a.setState({groupCoInvestigator:t},(function(){})),setTimeout((function(){o("ok")}),0)},a.dummyRequestSummary=function(e){var t=e.file,o=e.onSuccess;console.log("dummyRequestSummary",t),a.setState({summary:t},(function(){})),setTimeout((function(){o("ok")}),0)},a.dummyRequestGrantRequest=function(e){var t=e.file,o=e.onSuccess;console.log("dummyRequestGrantRequest",t),a.setState({grantRequest:t},(function(){})),setTimeout((function(){o("ok")}),0)},a.dummyRequestMinutes=function(e){var t=e.file,o=e.onSuccess;console.log("dummyRequestMinutes",t),a.setState({minutes:t},(function(){})),setTimeout((function(){o("ok")}),0)},a.dummyRequestProofPayment=function(e){var t=e.file,o=e.onSuccess;console.log("dummyRequestProofPayment",t),a.setState({proofPayment:t},(function(){})),setTimeout((function(){o("ok")}),0)},a.dummyRequestBudget=function(e){var t=e.file,o=e.onSuccess;console.log("dummyRequestBudget",t),a.setState({budget:t},(function(){})),setTimeout((function(){o("ok")}),0)},a.dummyRequestQuestionnaires=function(e){var t=e.file,o=e.onSuccess;console.log("dummyRequestQuestionnaires",t),a.setState({questionnaires:t},(function(){})),setTimeout((function(){o("ok")}),0)},a.onChangeCurriculumVitae=function(e){if(console.log("onChangeCurriculumVitae",c),console.log("onChangeCurriculumVitae file",a.state.curriculumVitae),console.log(e.file.status),c){if("done"===e.file.status){var t=new FormData;t.append("fileName","curriculumVitae"),t.append("proposalId",c),t.append("file",a.state.curriculumVitae),console.log("calling.... /uploadApplicationDocument API"),fetch(d.default.APIURL+"/uploadApplicationDocument",{method:"POST",credentials:"include",body:t}).then((function(e){return e.json()})).then((function(e){console.log("res tytuytkusyfsuid",e),200===e.status?l.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):300===e.status&&l.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})}))}}else console.log("proposal id not found"),l.toast.error("Please fill other details of form",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})},a.onChangegroupCoInvestigator=function(e){if(console.log("onChangegroupCoInvestigator",c),console.log("onChangegroupCoInvestigator file",a.state.groupCoInvestigator),console.log(e.file.status),c){if("done"===e.file.status){var t=new FormData;t.append("fileName","groupCoInvestigator"),t.append("proposalId",c),t.append("file",a.state.groupCoInvestigator),console.log("calling.... /uploadApplicationDocument API"),fetch(d.default.APIURL+"/uploadApplicationDocument",{method:"POST",credentials:"include",body:t}).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.status?l.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):300===e.status&&l.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})}))}}else console.log("proposal id not found"),l.toast.error("Please fill other details of form",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})},a.onChangeSummary=function(e){if(console.log("onChangeSummary",c),console.log("onChangeSummary file",a.state.summary),console.log(e.file.status),c){if("done"===e.file.status){var t=new FormData;t.append("fileName","summary"),t.append("proposalId",c),t.append("file",a.state.summary),console.log("calling.... /uploadApplicationDocument API"),fetch(d.default.APIURL+"/uploadApplicationDocument",{method:"POST",credentials:"include",body:t}).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.status?l.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):300===e.status&&l.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})}))}}else console.log("proposal id not found"),l.toast.error("Please fill other details of form",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})},a.onChangeGrantRequest=function(e){if(console.log("onChangeGrantRequest",c),console.log("onChangeGrantRequest file",a.state.summary),console.log(e.file.status),c){if("done"===e.file.status){var t=new FormData;t.append("fileName","grantRequest"),t.append("proposalId",c),t.append("file",a.state.grantRequest),console.log("calling.... /uploadApplicationDocument API"),fetch(d.default.APIURL+"/uploadApplicationDocument",{method:"POST",credentials:"include",body:t}).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.status?l.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):300===e.status&&l.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})}))}}else console.log("proposal id not found"),l.toast.error("Please fill other details of form",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})},a.onChangeMinutes=function(e){if(console.log("onChangeMinutes",c),console.log("onChangeMinutes file",a.state.minutes),console.log(e.file.status),c){if("done"===e.file.status){var t=new FormData;t.append("fileName","minutes"),t.append("proposalId",c),t.append("file",a.state.minutes),console.log("calling.... /uploadApplicationDocument API"),fetch(d.default.APIURL+"/uploadApplicationDocument",{method:"POST",credentials:"include",body:t}).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.status?l.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):300===e.status&&l.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})}))}}else console.log("proposal id not found"),l.toast.error("Please fill other details of form",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})},a.onChangeProofPayment=function(e){if(console.log("onChangeProofPayment",c),console.log("onChangeProofPayment file",a.state.proofPayment),console.log(e.file.status),c){if("done"===e.file.status){var t=new FormData;t.append("fileName","proofPayment"),t.append("proposalId",c),t.append("file",a.state.proofPayment),console.log("calling.... /uploadApplicationDocument API"),fetch(d.default.APIURL+"/uploadApplicationDocument",{method:"POST",credentials:"include",body:t}).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.status?l.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):300===e.status&&l.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})}))}}else console.log("proposal id not found"),l.toast.error("Please fill other details of form",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})},a.onChangeBudget=function(e){if(console.log("onChangeBudget",c),console.log("onChangeBudget file",a.state.budget),console.log(e.file.status),c){if("done"===e.file.status){var t=new FormData;t.append("fileName","budget"),t.append("proposalId",c),t.append("file",a.state.budget),console.log("calling.... /uploadApplicationDocument API"),fetch(d.default.APIURL+"/uploadApplicationDocument",{method:"POST",credentials:"include",body:t}).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.status?l.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):300===e.status&&l.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})}))}}else console.log("proposal id not found"),l.toast.error("Please fill other details of form",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})},a.onChangeQuestionnaires=function(e){if(console.log("onChangeQuestionnaires",c),console.log("onChangeQuestionnaires file",a.state.questionnaires),console.log(e.file.status),c){if("done"===e.file.status){var t=new FormData;t.append("fileName","questionnaires"),t.append("proposalId",c),t.append("file",a.state.questionnaires),console.log("calling.... /uploadApplicationDocument API"),fetch(d.default.APIURL+"/uploadApplicationDocument",{method:"POST",credentials:"include",body:t}).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.status?l.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):300===e.status&&l.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})}))}}else console.log("proposal id not found"),l.toast.error("Please fill other details of form",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})},a.getBase64=function(e){return new Promise((function(t,a){var o=new FileReader;o.readAsDataURL(e),o.onload=function(){return t(o.result)},o.onerror=function(e){return a(e)}}))},a.handlePreview=function(e){console.log("file...."),console.log(e.url),console.log(e.url+".png"),a.setState({previewImage:e.url+".png",previewVisible:!0,previewTitle:e.name})},a.state={curriculumVitae:"",groupCoInvestigator:"",summary:"",grantRequest:"",minutes:"",proofPayment:"",budget:"",questionnaires:"",disabledButton:!1,data:"",tags:[],proposalFormid:"",inputVisible:!1,inputValue:"",serverSideValidationError:[],previewVisible:!1,previewImage:"",previewTitle:""},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillMount",value:function(){var e=this;fetch(d.default.APIURL+"/getProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({proposalId:c})}).then((function(e){return e.json()})).then((function(t){console.log("res 200",t),200===t.status?(console.log("*********************************88",t),t.proposalData&&t.proposalData.coinvestigator?e.setState({data:t.proposalData,curriculumVitae:t.proposalData.curriculumVitae,proposalFormid:t.proposalData.proposalId,tags:t.proposalData.coinvestigator,groupCoInvestigator:t.proposalData.groupCoInvestigator,summary:t.proposalData.summary,grantRequest:t.proposalData.grantRequest,minutes:t.proposalData.minutes,proofPayment:t.proposalData.proofPayment,budget:t.proposalData.budget,questionnaires:t.proposalData.questionnaires}):e.setState({data:t.proposalData,proposalFormid:t.proposalData.proposalId,curriculumVitae:t.proposalData.curriculumVitae,groupCoInvestigator:t.proposalData.groupCoInvestigator,summary:t.proposalData.summary,grantRequest:t.proposalData.grantRequest,minutes:t.proposalData.minutes,proofPayment:t.proposalData.proofPayment,budget:t.proposalData.budget,questionnaires:t.proposalData.questionnaires})):300===t.status?l.toast.error(t.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):500===t.status?e.props.history.push("/serverError"):400===t.status?e.props.history.push("/badRequest"):403===t.status&&e.props.history.push("/forbiddenRequest")}))}},{key:"beforeUpload",value:function(e){console.log("in before upload",e);var t=e.size/1024/1024<2,a="image/jpeg"===e.type||"image/png"===e.type;return a||l.toast.error("You can only upload JPG/PNG file!",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}),a&&(t||l.toast.error("Image must smaller than 2MB!",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})),a&&t}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return i.default.createElement(s.Form,null,i.default.createElement(f,o({},t,{label:"Investigator curriculum vitae"}),e("curriculumVitae",{rules:[{required:!0,message:"Required"}]})(i.default.createElement(s.Upload,{fileList:this.state&&this.state.curriculumVitae?[this.state.curriculumVitae]:"",customRequest:this.dummyRequestCurriculumVitae,onChange:this.onChangeCurriculumVitae,beforeUpload:this.beforeUpload,showUploadList:{showRemoveIcon:!1}},i.default.createElement(s.Button,null,i.default.createElement(s.Icon,{type:"upload"})," ","Click to Upload")))),this.props&&this.props.tabsStatus.tagState&&0!==this.props.tabsStatus.tagState.length?i.default.createElement(f,o({},t,{label:"Group co-investigator CV"}),e("groupCoInvestigator",{rules:[{required:!0,message:"Required"}]})(i.default.createElement(s.Upload,{fileList:this.state&&this.state.groupCoInvestigator?[this.state.groupCoInvestigator]:"",customRequest:this.dummyRequestGroupCoInvestigator,onChange:this.onChangegroupCoInvestigator,beforeUpload:this.beforeUpload,showUploadList:{showRemoveIcon:!1}},i.default.createElement(s.Button,null,i.default.createElement(s.Icon,{type:"upload"})," ","Click to Upload")))):i.default.createElement(f,o({},t,{label:"Group co-investigator CV"}),e("groupCoInvestigator")(i.default.createElement(s.Upload,{fileList:this.state&&this.state.groupCoInvestigator?[this.state.groupCoInvestigator]:"",customRequest:this.dummyRequestGroupCoInvestigator,onChange:this.onChangegroupCoInvestigator,beforeUpload:this.beforeUpload,showUploadList:{showRemoveIcon:!1}},i.default.createElement(s.Button,null,i.default.createElement(s.Icon,{type:"upload"})," ","Click to Upload")))),i.default.createElement(f,o({},t,{label:"Full Proposal"}),e("summary",{rules:[{required:!0,message:"Required"}]})(i.default.createElement(s.Upload,{fileList:this.state&&this.state.summary?[this.state.summary]:"",customRequest:this.dummyRequestSummary,onChange:this.onChangeSummary,beforeUpload:this.beforeUpload,showUploadList:{showRemoveIcon:!1},onPreview:this.handlePreview},i.default.createElement(s.Button,null,i.default.createElement(s.Icon,{type:"upload"})," ","Click to Upload")))),i.default.createElement(f,o({},t,{label:"Grant request"}),e("grantRequest")(i.default.createElement(s.Upload,{fileList:this.state&&this.state.grantRequest?[this.state.grantRequest]:"",customRequest:this.dummyRequestGrantRequest,onChange:this.onChangeGrantRequest,beforeUpload:this.beforeUpload,showUploadList:{showRemoveIcon:!1}},i.default.createElement(s.Button,null,i.default.createElement(s.Icon,{type:"upload"})," ","Click to Upload")))),i.default.createElement(f,o({},t,{label:"Minutes"}),e("minutes")(i.default.createElement(s.Upload,{fileList:this.state&&this.state.minutes?[this.state.minutes]:"",customRequest:this.dummyRequestMinutes,onChange:this.onChangeMinutes,beforeUpload:this.beforeUpload,showUploadList:{showRemoveIcon:!1}},i.default.createElement(s.Button,null,i.default.createElement(s.Icon,{type:"upload"})," ","Click to Upload")))),i.default.createElement(f,o({},t,{label:"Proof of payment"}),e("proofPayment")(i.default.createElement(s.Upload,{fileList:this.state&&this.state.proofPayment?[this.state.proofPayment]:"",customRequest:this.dummyRequestProofPayment,onChange:this.onChangeProofPayment,beforeUpload:this.beforeUpload,showUploadList:{showRemoveIcon:!1}},i.default.createElement(s.Button,null,i.default.createElement(s.Icon,{type:"upload"})," ","Click to Upload")))),i.default.createElement(f,o({},t,{label:"Detailed budget"}),e("budget")(i.default.createElement(s.Upload,{fileList:this.state&&this.state.budget?[this.state.budget]:"",customRequest:this.dummyRequestBudget,onChange:this.onChangeBudget,beforeUpload:this.beforeUpload,showUploadList:{showRemoveIcon:!1}},i.default.createElement(s.Button,null,i.default.createElement(s.Icon,{type:"upload"})," ","Click to Upload")))),i.default.createElement(f,o({},t,{label:"Questionnaires"}),e("questionnaires")(i.default.createElement(s.Upload,{fileList:this.state&&this.state.questionnaires?[this.state.questionnaires]:"",customRequest:this.dummyRequestQuestionnaires,onChange:this.onChangeQuestionnaires,beforeUpload:this.beforeUpload,showUploadList:{showRemoveIcon:!1}},i.default.createElement(s.Button,null,i.default.createElement(s.Icon,{type:"upload"})," ","Click to Upload")))),i.default.createElement("span",{style:{marginLeft:"35%"},className:"ant-form-text"}," ",this.state.serverSideValidationError&&this.state.serverSideValidationError.map((function(e){return i.default.createElement("span",null," ",i.default.createElement("span",{className:"wt-color-red"},e," ")," ",i.default.createElement("br",null))}))),(this.state.serverSideValidationError&&i.default.createElement("br",null),i.default.createElement("br",null)),i.default.createElement(f,{wrapperCol:{xs:24,sm:{span:12,offset:5}}},i.default.createElement(s.Button,{type:"primary",disabled:this.state.disabledButton,onClick:this.handleSubmit.bind(this)},"Submit")),i.default.createElement(s.Modal,{visible:this.state.previewVisible,title:this.state.previewTitle,footer:null,onCancel:this.handleCancel},i.default.createElement("img",{alt:"example",style:{width:"50px",height:"40px"},src:"assets/InvestigatorDocs/9f2653f1-9a12-422e-9d55-ea39ec82732e.pdf"})))}}]),t}(r.Component),h=s.Form.create()(m);t.default=h},1343:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),r=c(a(0)),i=a(21),s=(c(a(1)),a(624),a(36)),l=c(a(1277)),d=c(a(29));a(37);var u=a(32),p=a(38);function c(e){return e&&e.__esModule?e:{default:e}}var f=void 0,m=i.Form.Item,h=i.Select.Option,g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=function(e){},a.handleSubmit=function(e){e.preventDefault(),l.default.callback("2",{tab1:!0})},a.handleSelectChange=function(e){},a.state={warning:!1,salutation:"",firstName:"",middleName:"",lastName:"",email:"",phoneNo:"",affilation:""},f=a.props.authUser,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this;fetch(d.default.APIURL+"/getInvestigator",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({investigatorId:f.id})}).then((function(e){return e.json()})).then((function(t){200===t.status&&e.setState({salutation:t.investigatorData.salutation,firstName:t.investigatorData.firstName,middleName:t.investigatorData.middleName,lastName:t.investigatorData.lastName,email:t.investigatorData.email,phoneNumber:t.investigatorData.phoneNumber,affilation:t.investigatorData.affilation}),300===t.status?s.toast.error(t.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):500===t.status?e.props.history.push("/serverError"):400===t.status?e.props.history.push("/badRequest"):403===t.status&&e.props.history.push("/forbiddenRequest")}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=(this.state.warning,e("prefix",{initialValue:"86"})(r.default.createElement(i.Select,{style:{width:70}},r.default.createElement(h,{value:"86"},"+86"),r.default.createElement(h,{value:"87"},"+87"))),{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}});return r.default.createElement("div",null,r.default.createElement(i.Form,{onSubmit:this.handleSubmit},r.default.createElement(m,o({label:"Salutation"},t),r.default.createElement("span",{className:"ant-form-text"},this.state.salutation)),r.default.createElement(m,o({label:"First name"},t),r.default.createElement("span",{className:"ant-form-text"},this.state.firstName)),r.default.createElement(m,o({label:"Middle name"},t),r.default.createElement("span",{className:"ant-form-text"},this.state.middleName)),r.default.createElement(m,o({label:"Last name"},t),r.default.createElement("span",{className:"ant-form-text"},this.state.lastName)),r.default.createElement(m,o({label:"Email"},t),r.default.createElement("span",{className:"ant-form-text"},this.state.email)),r.default.createElement(m,o({label:"Phone number"},t),r.default.createElement("span",{className:"ant-form-text"},this.state.phoneNumber)),r.default.createElement(m,o({label:"Affilation"},t),r.default.createElement("span",{className:"ant-form-text"},this.state.affilation)),r.default.createElement(m,{wrapperCol:{xs:24,sm:{span:12,offset:5}}},r.default.createElement(i.Button,{type:"primary",htmlType:"submit"},"Continue"))))}}]),t}(r.default.Component),v=i.Form.create()(g),b=(0,u.connect)((function(e){return{authUser:e.auth.authUser}}))(v);t.default=(0,p.withRouter)(b)},1344:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),r=a(0),i=m(r),s=a(21),l=a(36),d=m(a(1277)),u=m(a(29));a(37);var p=m(a(141)),c=a(32),f=a(38);function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var g=void 0,v=new URLSearchParams(window.location.search),b=s.Modal.error,y=void 0,w=v.get("id"),C=s.Form.Item,S=s.Input.TextArea,R=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChange=function(e){a.setState(h({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.setState({disabledButton:!1}),a.props.form.validateFields((function(e,t){e||(a.setState({disabledButton:!0}),t.isProposal=!0,t.proposalId=w,fetch(u.default.APIURL+"/saveProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({data:t})}).then((function(e){return e.json()})).then((function(e){200===e.status?(a.state.disabledButton=!1,a.setState({disabledButton:!1}),e.proposalData[0].proposalId&&(g=e.proposalData[0].proposalId,a.props.sendData(g)),d.default.callback("3",{tab2:!0}),l.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):300===e.status?(a.setState({disabledButton:!1}),l.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):500===e.status?a.props.history.push("/serverError"):400===e.status?a.props.history.push("/badRequest"):403===e.status&&a.props.history.push("/forbiddenRequest")})))}))},a.state={title:"",background:"",objectives:"",studyMethods:"",expectedOutcomes:"",keywords:"",proposalFormid:"",disabledButton:!1},y=a,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this;fetch(u.default.APIURL+"/getProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({proposalId:w})}).then((function(e){return e.json()})).then((function(t){200===t.status?e.setState({title:t.proposalData.title,background:t.proposalData.background,objectives:t.proposalData.objectives,studyMethods:t.proposalData.studyMethods,expectedOutcomes:t.proposalData.expectedOutcomes,keywords:t.proposalData.keywords,proposalFormid:t.proposalData.proposalId}):300===t.status?(console.log(t.notUserProposal),t.notUserProposal?b({title:""+t.message,onOk:function(){y.props.history.push("/manageProposal")}}):l.toast.error(t.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):500===t.status?e.props.history.push("/serverError"):400===t.status?e.props.history.push("/badRequest"):403===t.status&&e.props.history.push("/forbiddenRequest")}))}},{key:"render",value:function(){var e,t,a,n=this.props.form.getFieldDecorator,r={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}};return i.default.createElement("div",null,i.default.createElement(s.Form,{onSubmit:this.handleSubmit},i.default.createElement(C,o({label:" Title"},r),n("title",{initialValue:this.state.title,rules:[{required:!0,message:p.default.ValidationMessages.titleRequiredValidation},{max:100,message:p.default.ValidationMessages.titleMaxValidation},{pattern:new RegExp("^[a-zA-Z0-9-,]+(s{0,1}[a-zA-Z0-9-, ])*$"),message:p.default.ValidationMessages.alphabetNumberPatternValidation}]})(i.default.createElement(S,{setFieldsValue:this.state.title,onChange:this.handleChange,name:"title",rows:2,placeholder:"Please input your title"}))),i.default.createElement(C,o({label:"Background"},r),n("background",{initialValue:this.state.background,rules:[{required:!0,message:p.default.ValidationMessages.backgroundRequiredValidation},{max:200,message:p.default.ValidationMessages.backgroundMaxValidation},{pattern:new RegExp("^[a-zA-Z0-9-,]+(s{0,1}[a-zA-Z0-9-, ])*$"),message:p.default.ValidationMessages.alphabetNumberPatternValidation}]})(i.default.createElement(S,(h(e={name:"background",onChange:this.handleChange,setfieldsvalue:this.state.background},"onChange",this.handleChange),h(e,"rows",3),h(e,"placeholder","Please input your background"),e)))),i.default.createElement(C,o({label:"Objectives"},r),n("objectives",{initialValue:this.state.objectives,rules:[{required:!0,message:p.default.ValidationMessages.objectiveRequiredValidation},{max:300,message:p.default.ValidationMessages.objectiveMaxValidation},{pattern:new RegExp("^[a-zA-Z0-9-,]+(s{0,1}[a-zA-Z0-9-, ])*$"),message:p.default.ValidationMessages.alphabetNumberPatternValidation}]})(i.default.createElement(S,{onChange:this.handleChange,name:"objectives",setfieldsvalue:this.state.objectives,rows:4,placeholder:"Please input your objectives"}))),i.default.createElement(C,o({label:"Study Methods"},r),n("studyMethods",{initialValue:this.state.studyMethods,rules:[{required:!0,message:p.default.ValidationMessages.studyMethodsRequiredValidation},{max:300,message:p.default.ValidationMessages.studyMethodsMaxValidation},{pattern:new RegExp("^[a-zA-Z0-9-,]+(s{0,1}[a-zA-Z0-9-, ])*$"),message:p.default.ValidationMessages.alphabetNumberPatternValidation}]})(i.default.createElement(S,(h(t={onChange:this.handleChange,name:"studyMethods",setfieldsvalue:this.state.studyMethods},"onChange",this.handleChange),h(t,"rows",4),h(t,"placeholder","Please input your study methods"),t)))),i.default.createElement("div",{style:{whiteSpace:"normal"}},i.default.createElement(C,o({label:"Expected Outcomes and Use Of Results"},r),n("expectedOutcomes",{initialValue:this.state.expectedOutcomes,rules:[{required:!0,message:p.default.ValidationMessages.expectedOutcomeRequiredValidation},{max:200,message:p.default.ValidationMessages.expectedOutcomeMaxValidation},{pattern:new RegExp("^[a-zA-Z0-9-,]+(s{0,1}[a-zA-Z0-9-, ])*$"),message:p.default.ValidationMessages.alphabetNumberPatternValidation}]})(i.default.createElement(S,(h(a={onChange:this.handleChange,name:"expectedOutcomes",setfieldsvalue:this.state.expectedOutcomes},"onChange",this.handleChange),h(a,"rows",2),h(a,"placeholder","Please input your expected outcome and use of results"),a))))),i.default.createElement(C,o({label:"Keywords"},r),n("keywords",{initialValue:this.state.keywords,rules:[{required:!0,message:p.default.ValidationMessages.keywordRequiredValidation},{max:100,message:p.default.ValidationMessages.keywordMaxValidation},{pattern:new RegExp("^[a-zA-Z0-9-,]+(s{0,1}[a-zA-Z0-9-, ])*$"),message:p.default.ValidationMessages.alphabetNumberPatternValidation}]})(i.default.createElement(s.Input,{onChange:this.handleChange,name:"keywords",setfieldsvalue:this.state.keywords,placeholder:"Please input your keywords"}))),i.default.createElement(C,{wrapperCol:{xs:24,sm:{span:12,offset:5}}},i.default.createElement(s.Button,{type:"primary",disabled:this.state.disabledButton,htmlType:"submit"},"Save and Continue"))))}}]),t}(r.Component),E=s.Form.create()(R),P=(0,c.connect)((function(e){return{authUser:e.auth.authUser}}))(E);t.default=(0,f.withRouter)(P)},1345:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),r=a(0),i=h(r),s=a(21),l=h(a(3)),d=a(36),u=h(a(1277)),p=h(a(1346)),c=h(a(1347)),f=h(a(29));h(a(46));a(37);var m=h(a(141));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var v=void 0,b=s.Form.Item,y=s.Select.Option,w=(s.Checkbox.Group,s.Radio.Group),C=s.Input.TextArea,S=p.default,R=c.default,E=new URLSearchParams(window.location.search).get("id"),P=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSubmit=function(e){e.preventDefault(),a.setState({disabledButton:!1}),a.props.form.validateFields((function(e,t){e||(a.setState({disabledButton:!0}),t.isProposal=!0,t.proposalId=E,null!==a.state.startDate&&(t.startDate=a.state.startDate),t.endDate=a.state.endDate,t.coinvestigator=a.state.tags,t.primarySuperviser=a.state.primarySuperviserTags,fetch(f.default.APIURL+"/saveProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({data:t})}).then((function(e){return e.json()})).then((function(e){200===e.status?(a.setState({disabledButton:!1}),e.proposalData[0].proposalId&&(v=e.proposalData[0].proposalId,a.props.sendData(v),a.props.tagStatus(a.state.tags)),d.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}),u.default.callback("4",{tab3:!0})):300===e.status?(a.setState({disabledButton:!1}),d.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):500===e.status?a.props.history.push("/serverError"):400===e.status?a.props.history.push("/badRequest"):403===e.status&&a.props.history.push("/forbiddenRequest")})))}))},a.handleDateChange=function(e){a.setState({startDate:e},(function(){}))},a.handleEndDateChange=function(e){a.setState({endDate:e},(function(){}))},a.handleClose=function(e){var t=a.state.tags.filter((function(t){return t!==e}));a.setState({tags:t})},a.handleCloseForPrimarySupervisor=function(e){var t=a.state.primarySuperviserTags.filter((function(t){return t!==e}));a.setState({primarySuperviserTags:t})},a.showInput=function(){a.setState({inputVisible:!0},(function(){return a.input.focus()}))},a.showInputForPrimarySupervisor=function(){a.setState({inputVisibleForPrimarySupervisor:!0},(function(){return a.input.focus()}))},a.handleInputChange=function(e){console.log("e.traget.value",e.target.value),e.target.value.length>100?alert("No more than 100 words"):e.target.value.match(/^[A-Za-z]+$/)?a.setState({inputValue:e.target.value},(function(){})):alert("Only alphabets allowed")},a.handleInputChangeForPrimarySupervisor=function(e){e.target.value.length>100?alert("No more than 100 words"):e.target.value.match(/^[A-Za-z]+$/)?a.setState({inputValueForPrimarySupervisor:e.target.value},(function(){})):alert("Only alphabets allowed")},a.handleInputConfirm=function(){var e=a.state.inputValue,t=a.state.tags;e&&-1===t.indexOf(e)&&(t=[].concat(g(t),[e])),a.setState({tags:t,inputVisible:!1,inputValue:""})},a.handleInputConfirmForPrimarySupervisor=function(){var e=a.state.inputValueForPrimarySupervisor,t=a.state.primarySuperviserTags;e&&-1===t.indexOf(e)&&(t=[].concat(g(t),[e])),a.setState({primarySuperviserTags:t,inputVisibleForPrimarySupervisor:!1,inputValueForPrimarySupervisor:""})},a.saveInputRef=function(e){return a.input=e},a.state={studentResearch:"",startDate:"",endDate:"",keyInstitution:"",multiCountryResearch:"",nationWideResearch:"",researchDomain:"",researchField:"",otherResearchForm:"",humanSubjects:"",dataCollection:"",otherCommitte:"",defaultShow:!0,disabledButton:!1,proposalFormid:"",tags:[],primarySuperviserTags:[],inputVisible:!1,inputValue:"",inputValueForPrimarySupervisor:"",inputVisibleForPrimarySupervisor:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillMount",value:function(){var e=this,t=new URLSearchParams(window.location.search).get("id");fetch(f.default.APIURL+"/getProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({proposalId:t})}).then((function(e){return e.json()})).then((function(t){200===t.status&&e.setState({studentResearch:t.proposalData.studentResearch,startDate:t.proposalData.startDate,endDate:t.proposalData.endDate,keyInstitution:t.proposalData.keyInstitution,multiCountryResearch:t.proposalData.multiCountryResearch,nationWideResearch:t.proposalData.nationWideResearch,researchDomain:t.proposalData.researchDomain,researchField:t.proposalData.researchField,otherResearchForm:t.proposalData.otherResearchForm,humanSubjects:t.proposalData.humanSubjects,dataCollection:t.proposalData.dataCollection,otherCommitte:t.proposalData.otherCommitte,proposalFormid:t.proposalData.proposalId,tags:t.proposalData.coinvestigator?t.proposalData.coinvestigator:[],primarySuperviserTags:t.proposalData.primarySuperviser?t.proposalData.primarySuperviser:[]},(function(){})),300===t.status?d.toast.error(t.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):500===t.status?e.props.history.push("/serverError"):400===t.status?e.props.history.push("/badRequest"):403===t.status&&e.props.history.push("/forbiddenRequest")}))}},{key:"disabledStartDate",value:function(e){return(0,l.default)().add(-1,"days")>=e||(0,l.default)().add(0,"month")<=e}},{key:"disabledendDate",value:function(e){return(0,l.default)().add(-1,"days")>=e}},{key:"render",value:function(){var e=this,t=this.state,a=t.tags,n=t.inputVisible,r=t.inputValue,u=t.inputValueForPrimarySupervisor,p=t.primarySuperviserTags,c=t.inputVisibleForPrimarySupervisor,f=this.props.form.getFieldDecorator,h={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}};return i.default.createElement(s.Form,{onSubmit:this.handleSubmit},i.default.createElement(b,o({label:"Student Research"},h),f("studentResearch",{initialValue:this.state.studentResearch,rules:[{required:!0,message:m.default.ValidationMessages.studentResearchValidation}]})(i.default.createElement(w,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(b,o({},h,{label:"StartDate"}),i.default.createElement(s.DatePicker,{onChange:this.handleDateChange,required:!0,className:"gx-mb-3 gx-w-100",disabledDate:this.disabledStartDate,format:"DD/MM/YYYY",value:this.state.startDate?(0,l.default)(this.state.startDate):void 0})),i.default.createElement(b,o({},h,{label:"EndDate"}),i.default.createElement(s.DatePicker,{onChange:this.handleEndDateChange,disabledDate:this.disabledendDate,format:"DD/MM/YYYY",value:this.state.endDate?(0,l.default)(this.state.endDate):void 0,className:"gx-mb-3 gx-w-100"})),i.default.createElement(b,o({label:"Key Implementing institution"},h),f("keyInstitution",{initialValue:this.state.keyInstitution,rules:[{required:!0,message:m.default.ValidationMessages.keyImplementationValidation}]})(i.default.createElement(s.Select,{showSearch:!0,placeholder:"Please select key implementing institution",optionFilterProp:"children",onSearch:this.onSearch,onChange:this.handleSelectChange,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},S.map((function(e){return i.default.createElement(y,{value:e.dropdownvalue},e.dropdownvalue)}))))),i.default.createElement(b,o({label:"Multi-country research"},h),f("multiCountryResearch",{initialValue:this.state.multiCountryResearch,rules:[{required:!0,message:m.default.ValidationMessages.multiCountryValidation}]})(i.default.createElement(w,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(b,o({label:"Nationwide research"},h),f("nationWideResearch",{initialValue:this.state.nationWideResearch,rules:[{required:!0,message:m.default.ValidationMessages.nationWideValidation}]})(i.default.createElement(w,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No"),i.default.createElement(s.Radio,{value:"With randomly selected geographical areas"},"With randomly selected geographical areas"," ")))),i.default.createElement(b,o({label:"Research Domain(s)"},h),f("researchDomain",{initialValue:this.state.researchDomain,rules:[{required:!0,message:m.default.ValidationMessages.researchDomainValidation}]})(i.default.createElement(s.Select,{showSearch:!0,optionFilterProp:"children",onChange:this.handleSelectChange,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},placeholder:"Please select research domain"},i.default.createElement(y,{value:"Communicable Disease Research"},"Communicable Disease Research"),i.default.createElement(y,{value:"Health Systems Research"},"Health Systems Research"),i.default.createElement(y,{value:"Maternal, Reproductive and Child Health"},"Maternal, Reproductive and Child Health"),i.default.createElement(y,{value:"Research on Healthy Lifestyles"},"Research on Healthy Lifestyles")))),i.default.createElement(b,o({label:"Research Field(s)"},h),f("researchField",{initialValue:this.state.researchField,rules:[{required:!0,message:m.default.ValidationMessages.researchFieldValidation}]})(i.default.createElement(s.Select,{showSearch:!0,optionFilterProp:"children",onSearch:this.onSearch,onChange:this.handleSelectChange,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},placeholder:"Please select any research field"},R.map((function(e){return i.default.createElement(y,{value:e.dropdownvalue},e.dropdownvalue)}))))),i.default.createElement(b,o({label:"Other Research Field(s)"},h),f("otherResearchForm",{initialValue:this.state.otherResearchForm,rules:[{required:!0,message:m.default.ValidationMessages.otherResearchFormValidation},{max:100,message:m.default.ValidationMessages.otherResearchFormMaxValidation},{pattern:new RegExp("^[a-zA-Z0-9-,]+(s{0,1}[a-zA-Z0-9-, ])*$"),message:m.default.ValidationMessages.alphabetNumberPatternValidation}]})(i.default.createElement(C,{rows:2,placeholder:"Please input your research form"}))),i.default.createElement(b,o({label:"Involves human subjects"},h),f("humanSubjects",{initialValue:this.state.humanSubjects,rules:[{required:!0,message:m.default.ValidationMessages.humanSubjectValidation}]})(i.default.createElement(w,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(b,o({label:"Data Collection"},h),f("dataCollection",{initialValue:this.state.dataCollection,rules:[{required:!0,message:m.default.ValidationMessages.dataCollectionValidation}]})(i.default.createElement(s.Select,{placeholder:"Please select data collection",onChange:this.handleSelectChange},i.default.createElement(y,{value:"Primary Data"},"Primary Data"),i.default.createElement(y,{value:"Secondary Data"},"Secondary Data"),i.default.createElement(y,{value:"Primary and Secondary Data"},"Primary and Secondary Data")))),i.default.createElement(b,o({label:"Proposal reviewed by other Committee"},h),f("otherCommitte",{initialValue:this.state.otherCommitte,rules:[{required:!0,message:m.default.ValidationMessages.otherCommitteeRequired}]})(i.default.createElement(w,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(b,o({},h,{label:"Add co-investigator(s)"}),a.map((function(t,a){var o=t.length>20;t.length>20&&d.toast.error("Tag should be maximum 20 characters",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1});var n=i.default.createElement(s.Tag,{key:t,closable:!0,onClose:function(){return e.handleClose(t)}},o?t.slice(0,20)+"...":t);return o?i.default.createElement(s.Tooltip,{title:t,key:t},n):n})),n&&i.default.createElement(s.Input,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:r,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!n&&i.default.createElement(s.Tag,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},i.default.createElement(s.Icon,{type:"plus"})," Add no of co -investegator(s)")),i.default.createElement(b,o({},h,{label:"Primary-Supervisor(s):"}),p.map((function(t,a){var o=t.length>20;t.length>20&&d.toast.error("Tag cannot be more than 100",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1});var n=i.default.createElement(s.Tag,{key:t,closable:!0,onClose:function(){return e.handleCloseForPrimarySupervisor(t)}},o?t.slice(0,20)+"...":t);return o?i.default.createElement(s.Tooltip,{title:t,key:t},n):n})),c&&i.default.createElement(s.Input,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:u,onChange:this.handleInputChangeForPrimarySupervisor,onBlur:this.handleInputConfirmForPrimarySupervisor,onPressEnter:this.handleInputConfirmForPrimarySupervisor}),!c&&i.default.createElement(s.Tag,{onClick:this.showInputForPrimarySupervisor,style:{background:"#fff",borderStyle:"dashed"}},i.default.createElement(s.Icon,{type:"plus"})," Primary-Supervisor(s)")),i.default.createElement(b,{wrapperCol:{xs:24,sm:{span:12,offset:5}}},i.default.createElement(s.Button,{type:"primary",disabled:this.state.disabledButton,htmlType:"submit"},"Save and Continue")))}}]),t}(r.Component),D=s.Form.create()(P);t.default=D},1346:function(e,t,a){"use strict";e.exports=[{id:"1",dropdownvalue:"Access Health International"},{id:"2",dropdownvalue:"Access to Quality Education Program"},{id:"3",dropdownvalue:"ACP-EU Technical Centre for Agricultural and Rural Co-operation (CTA)"},{id:"4",dropdownvalue:"ADRA Australia"},{id:"5",dropdownvalue:"Aichi Prefectural University Graduate School of Nursing and Health"},{id:"6",dropdownvalue:"Anonymous donor"},{id:"7",dropdownvalue:"Asian Development Bank"},{id:"8",dropdownvalue:"Asian Pacific Resource and Research Centre for Women"},{id:"9",dropdownvalue:"Auckland University of Technology"},{id:"10",dropdownvalue:" Australia and New Zealand Gastroenterology International Training Association"},{id:"11",dropdownvalue:"Australian Agency for International Development"},{id:"12",dropdownvalue:"Australian Department of Foreign Affairs and Trade"},{id:"13",dropdownvalue:"Australian Higher degree"},{id:"14",dropdownvalue:"Australian Sports Commission"},{id:"15",dropdownvalue:"Bill and Melinda Gates Foundation"},{id:"16",dropdownvalue:"British Veterinary Association"},{id:"17",dropdownvalue:"Cathay General Hospital"},{id:"18",dropdownvalue:"Centers for Disease Control and Prevention"},{id:"19",dropdownvalue:"Centre for Air pollution, energy, and health Research"},{id:"20",dropdownvalue:"Centre for Research Excellence in Integrated Systems in Epidemic Response"},{id:"21",dropdownvalue:"Chiang Mai University Thailand"},{id:"22",dropdownvalue:"Childrens Hospital Oakland Research Institute"},{id:"23",dropdownvalue:"College of Medicine Nursing and Health Sciences"},{id:"24",dropdownvalue:"Colonial War Memorial Hospital"},{id:"25",dropdownvalue:" Cure Kids"},{id:"26",dropdownvalue:"Duke Kunshan University"},{id:"27",dropdownvalue:"Evivi Wati Cirikiwai"},{id:"28",dropdownvalue:"Ferring Pharmaceuticals"},{id:"29",dropdownvalue:"Fiji Centre for Communicable Disease Control"},{id:"30",dropdownvalue:"Fiji Ministry of Health and Medical Services"},{id:"31",dropdownvalue:"Fiji National University College of Medicine"},{id:"32",dropdownvalue:"Fiji Police Department"},{id:"33",dropdownvalue:"Fiji Rheumatic Heart Disease Control Program"},{id:"34",dropdownvalue:"Foundation for Rural Integrated Enterprises and Development"},{id:"35",dropdownvalue:"Fred Hollows Foundation"},{id:"36",dropdownvalue:"French Pacific Fund 2017"},{id:"37",dropdownvalue:"Fujita Health University"},{id:"38",dropdownvalue:"Global Fund PR MOH"},{id:"39",dropdownvalue:"Global Fund to Fight AIDS Tuberculosis and Malaria"},{id:"40",dropdownvalue:"Grant Challenges Canada"},{id:"41",dropdownvalue:"Griffith University"},{id:"42",dropdownvalue:"Hamburg University of Applied Sciences (HAW Hamburg)"},{id:"43",dropdownvalue:"Harvard University"},{id:"44",dropdownvalue:"Health Research Council New Zealand through University of Auckland"},{id:"45",dropdownvalue:"Healthserve Australia"},{id:"46",dropdownvalue:"Individual"},{id:"47",dropdownvalue:"Institut de Recherche pour le Development"},{id:"48",dropdownvalue:"Institut Louis Malarde"},{id:"49",dropdownvalue:"Institut Pasteur"},{id:"50",dropdownvalue:"International Development and the National Institute"},{id:"51",dropdownvalue:"International Nursing Foundation Japan Ogura Memorial International Nursing Foundation"},{id:"52",dropdownvalue:"International Planned Parenthood Federation Suva Office"},{id:"53",dropdownvalue:"International Society of Nephrology"},{id:"54",dropdownvalue:"International Water Centre"},{id:"55",dropdownvalue:"James Cook University"},{id:"56",dropdownvalue:"Japan International Cooperation Agency"},{id:"57",dropdownvalue:"Johns Hopkins School of Medicine"},{id:"58",dropdownvalue:"Joy Singh"},{id:"59",dropdownvalue:"Koleta Tawake"},{id:"60",dropdownvalue:"Korean International Cooperation Agency"},{id:"61",dropdownvalue:"La Trobe University"},{id:"62",dropdownvalue:"Lions Club International Foundation"},{id:"63",dropdownvalue:"Livai Lutunaika"},{id:"64",dropdownvalue:"Live & Learn Environmental Education"},{id:"65",dropdownvalue:"London School of Hygiene and Tropical Medicine"},{id:"66",dropdownvalue:"Macquarie University"},{id:"67",dropdownvalue:"Massey University"},{id:"68",dropdownvalue:"Ministry of Education, Culture, Sports, Science and Technology Japan"},{id:"69",dropdownvalue:"Ministry of Fisheries"},{id:"70",dropdownvalue:"Ministry of Foreign Affairs and Trade"},{id:"71",dropdownvalue:"Ministry of Health and Medical Services Fiji"},{id:"72",dropdownvalue:"Monash University"},{id:"73",dropdownvalue:"Murdoch Childrens Research Institute"},{id:"74",dropdownvalue:"National Competitive Research Funding Scheme in Australia"},{id:"75",dropdownvalue:"National Tuberculosis Program"},{id:"76",dropdownvalue:"New Colombo Plan Mobility Program Grant"},{id:"77",dropdownvalue:"New Zealand Aid"},{id:"78",dropdownvalue:"New Zealand Dental Association Research Foundation"},{id:"79",dropdownvalue:"Nileshni Devi"},{id:"80",dropdownvalue:"Pacific Eye Institute"},{id:"81",dropdownvalue:"Personal"},{id:"82",dropdownvalue:"Primary investigator"},{id:"83",dropdownvalue:"Primary Researcher"},{id:"84",dropdownvalue:"Ramakrishna Mission"},{id:"85",dropdownvalue:"Reproductive and Family Health Association of Fiji"},{id:"86",dropdownvalue:"Royal Australian and New Zealand College of Psychiatrists"},{id:"87",dropdownvalue:"Royal Melbourne Institute of Technology"},{id:"88",dropdownvalue:"Sharan Ram"},{id:"89",dropdownvalue:"Solomon islands Government"},{id:"90",dropdownvalue:"SSCSiP (An Ausaid initiative)"},{id:"91",dropdownvalue:"Standard of Proof Ltd"},{id:"92",dropdownvalue:"Stanford University"},{id:"93",dropdownvalue:"Suva Golden Oldies Rugby Club"},{id:"94",dropdownvalue:"Thailand International Cooperation Agency"},{id:"95",dropdownvalue:"The Crawford Fund"},{id:"96",dropdownvalue:"The Downs International Health Student Travel Fellowship"},{id:"97",dropdownvalue:"The George Institute of Global Health"},{id:"98",dropdownvalue:"The Pacific Community"},{id:"99",dropdownvalue:"The Royal Australian and New Zealand College of Obstetricians and Gynaecologists"},{id:"100",dropdownvalue:"The Swedish International Development Cooperation Agency"},{id:"101",dropdownvalue:"The University of Sydney"},{id:"102",dropdownvalue:"The University of the South Pacific"},{id:"103",dropdownvalue:"The University of Warwick"},{id:"104",dropdownvalue:"The Victorian Health Promotion Foundation"},{id:"105",dropdownvalue:"United Nations Childrens Fund"},{id:"106",dropdownvalue:"United States Agency for International Development"},{id:"107",dropdownvalue:"University of Auckland"},{id:"108",dropdownvalue:"University of Canterbury"},{id:"109",dropdownvalue:"University of Fiji"},{id:"110",dropdownvalue:"University of Hawaii"},{id:"111",dropdownvalue:"University of New South Wales"},{id:"112",dropdownvalue:"University of Otago Wellington"},{id:"113",dropdownvalue:"University of Oxford"},{id:"114",dropdownvalue:"University of Queensland"},{id:"115",dropdownvalue:"University of Tasmania"},{id:"116",dropdownvalue:"University of Tokyo"},{id:"117",dropdownvalue:"University of Tsukuba"},{id:"118",dropdownvalue:"University of Western Australia"},{id:"119",dropdownvalue:"Uppsala University, Sweden, Department of Psychology"},{id:"120",dropdownvalue:"URPC Grant"},{id:"121",dropdownvalue:"UTHealth"},{id:"122",dropdownvalue:"Viseisei Sai Health Centre"},{id:"123",dropdownvalue:"Waitemata District Health Board"},{id:"124",dropdownvalue:"Warren Thaggard"},{id:"125",dropdownvalue:"Welcome Trust"},{id:"126",dropdownvalue:"Western Pacific Regional Office of the World Heath Organization"},{id:"127",dropdownvalue:"Whitireia WelTech"},{id:"128",dropdownvalue:"WHO Tropical Disease Research"},{id:"129",dropdownvalue:"Womens Dermatology Society USA"},{id:"130",dropdownvalue:"World Bank"},{id:"131",dropdownvalue:"World Health Organization"},{id:"132",dropdownvalue:"World Heart Federation"},{id:"133",dropdownvalue:"World Vision"},{id:"134",dropdownvalue:"Other"}]},1347:function(e,t,a){"use strict";e.exports=[{id:"1",dropdownvalue:"Accidents and Injuries"},{id:"2",dropdownvalue:"Access to Quality Education Program"},{id:"3",dropdownvalue:"Child Health"},{id:"4",dropdownvalue:"Drug Quality"},{id:"5",dropdownvalue:"Family Planning"},{id:"6",dropdownvalue:"Gender and Sexuality"},{id:"7",dropdownvalue:"HIV/ADIS"},{id:"8",dropdownvalue:"Health Care Seeking/Utilization"},{id:"9",dropdownvalue:"Health Financing"},{id:"10",dropdownvalue:"Immunization/Vaccine Preventable Disease"},{id:"11",dropdownvalue:"Infectious Disease"},{id:"12",dropdownvalue:"Malaria"},{id:"13",dropdownvalue:"Non-communicable Disease"},{id:"14",dropdownvalue:"Nutrition"},{id:"15",dropdownvalue:"Reproductive Health"},{id:"16",dropdownvalue:"Tuberculosis"},{id:"17",dropdownvalue:"Other"}]},1348:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),r=a(0),i=m(r),s=a(21),l=a(36),d=m(a(46)),u=m(a(1277)),p=m(a(1349)),c=m(a(29));a(37);var f=m(a(141));function m(e){return e&&e.__esModule?e:{default:e}}var h=void 0,g=s.Form.Item,v=s.Select.Option,b=(s.Checkbox.Group,s.Radio.Group,p.default),y=new URLSearchParams(window.location.search).get("id"),w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSelectChange=function(e){},a.handleSubmit=function(e){e.preventDefault(),a.setState({disabledButton:!1}),a.props.form.validateFields((function(e,t){e||(a.setState({disabledButton:!0}),t.isProposal=!0,t.proposalId=y,fetch(c.default.APIURL+"/saveProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({data:t})}).then((function(e){return e.json()})).then((function(e){200===e.status?(a.state.disabledButton=!1,a.setState({disabledButton:!1}),e.proposalData[0].proposalId&&(h=e.proposalData[0].proposalId,a.props.sendData(h)),l.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}),u.default.callback("5",{tab4:!0})):300===e.status?(a.state.disabledButton=!1,a.setState({disabledButton:!1}),l.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):500===e.status?a.props.history.push("/serverError"):400===e.status?a.props.history.push("/badRequest"):403===e.status&&a.props.history.push("/forbiddenRequest")})))}))},a.state={source:"",amount:"",id:"",proposalFormid:"",disabledButton:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this;fetch(c.default.APIURL+"/getProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({proposalId:y})}).then((function(e){return e.json()})).then((function(t){200===t.status&&e.setState({source:t.proposalData.source,amount:t.proposalData.amount,proposalFormid:t.proposalData.proposalId}),300===t.status?l.toast.error(t.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):500===t.status?e.props.history.push("/serverError"):400===t.status?e.props.history.push("/badRequest"):403===t.status&&e.props.history.push("/forbiddenRequest")}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=e("fiji",{initialValue:"FJ"})(i.default.createElement("label",{value:"FJ"},"FJ$")),a={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}};return i.default.createElement(s.Form,{onSubmit:this.handleSubmit},i.default.createElement(g,o({label:"Source"},a),e("source",{initialValue:this.state.source,rules:[{required:!0,message:f.default.ValidationMessages.sourceValidation}]})(i.default.createElement(s.Select,{placeholder:"Please select source",onChange:this.handleSelectChange,showSearch:!0,optionFilterProp:"children",onSearch:this.onSearch,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},b.map((function(e){return i.default.createElement(v,{value:e.dropdownvalue},e.dropdownvalue)}))))),i.default.createElement(g,o({label:"Amount"},a),e("amount",{initialValue:this.state.amount,rules:[{required:!0,message:f.default.ValidationMessages.amountValidation},{pattern:new RegExp(/^[+]?([0-9]+(?:[\.][0-9]*)?|\.[0-9]+)$/),message:"Please input a valid amount"}]})(i.default.createElement(s.Input,{type:"number",addonBefore:t,placeholder:"Please input your amount"}))),i.default.createElement("span",{style:{marginLeft:"237px"}},d.default.paymentNote),i.default.createElement(g,{wrapperCol:{xs:24,sm:{span:12,offset:5}}},i.default.createElement(s.Button,{type:"primary",disabled:this.state.disabledButton,htmlType:"submit"},"Save and Continue")))}}]),t}(r.Component),C=s.Form.create()(w);t.default=C},1349:function(e,t,a){"use strict";e.exports=[{id:"1",dropdownvalue:"ACCESS Health International"},{id:"2",dropdownvalue:"Access to Quality Education Program"},{id:"3",dropdownvalue:"ACP-EU Technical Centre for Agricultural and Rural Co-operation (CTA)"},{id:"4",dropdownvalue:"ADRA Australia"},{id:"5",dropdownvalue:"Aichi Prefectural University Graduate School of Nursing and Health"},{id:"6",dropdownvalue:"Anonymous donor"},{id:"7",dropdownvalue:"Asian Development Bank"},{id:"8",dropdownvalue:"Asian Pacific Resource and Research Centre for Women"},{id:"9",dropdownvalue:"Auckland University of Technology"},{id:"10",dropdownvalue:"Australia and New Zealand Gastroenterology International Training Association"},{id:"11",dropdownvalue:"Australian Agency for International Development"},{id:"12",dropdownvalue:"Australian Department of Foreign Affairs and Trade"},{id:"13",dropdownvalue:"Australian Higher degree"},{id:"14",dropdownvalue:"Australian Sports Commission"},{id:"15",dropdownvalue:"Bill and Melinda Gates Foundation"},{id:"16",dropdownvalue:"British Veterinary Association"},{id:"17",dropdownvalue:"Cathay General Hospital"},{id:"18",dropdownvalue:"Centers for Disease Control and Prevention"},{id:"19",dropdownvalue:"Centre for Air pollution, energy, and health Research"},{id:"20",dropdownvalue:"Centre for Research Excellence in Integrated Systems in Epidemic Response"},{id:"21",dropdownvalue:"Chiang Mai University Thailand"},{id:"22",dropdownvalue:"Childrens Hospital Oakland Research Institute"},{id:"23",dropdownvalue:"College of Medicine Nursing and Health Sciences"},{id:"24",dropdownvalue:"Colonial War Memorial Hospital"},{id:"25",dropdownvalue:"Cure Kids"},{id:"26",dropdownvalue:"Duke Kunshan University"},{id:"27",dropdownvalue:"Evivi Wati Cirikiwai"},{id:"28",dropdownvalue:"Ferring Pharmaceuticals"},{id:"29",dropdownvalue:"Fiji Centre for Communicable Disease Control"},{id:"30",dropdownvalue:"Fiji Ministry of Health and Medical Services"},{id:"31",dropdownvalue:"Fiji National University College of Medicine"},{id:"32",dropdownvalue:"Fiji Police Department"},{id:"33",dropdownvalue:"Fiji Rheumatic Heart Disease Control Program"},{id:"34",dropdownvalue:"Foundation for Rural Integrated Enterprises and Development"},{id:"35",dropdownvalue:"Fred Hollows Foundation"},{id:"36",dropdownvalue:"French Pacific Fund 2017"},{id:"37",dropdownvalue:"Fujita Health University"},{id:"38",dropdownvalue:"Global Fund PR MOH"},{id:"40",dropdownvalue:"Global Fund to Fight AIDS Tuberculosis and Malaria"},{id:"41",dropdownvalue:"Grant Challenges Canada"},{id:"42",dropdownvalue:"Griffith University"},{id:"43",dropdownvalue:"Hamburg University of Applied Sciences (HAW Hamburg)"},{id:"44",dropdownvalue:"Harvard University"},{id:"45",dropdownvalue:"Health Research Council New Zealand through University of Auckland"},{id:"46",dropdownvalue:"Healthserve Australia"},{id:"47",dropdownvalue:"Individual"},{id:"48",dropdownvalue:"Institut de Recherche pour le Development"},{id:"49",dropdownvalue:"Institut Louis Malarde"},{id:"50",dropdownvalue:"Institut Pasteur"},{id:"51",dropdownvalue:"International Development and the National Institute"},{id:"52",dropdownvalue:"International Nursing Foundation Japan Ogura Memorial International Nursing Foundation"},{id:"53",dropdownvalue:"International Planned Parenthood Federation Suva Office"},{id:"54",dropdownvalue:"International Society of Nephrology"},{id:"55",dropdownvalue:"International Water Centre"},{id:"56",dropdownvalue:"James Cook University"},{id:"57",dropdownvalue:"Japan International Cooperation Agency"},{id:"58",dropdownvalue:"Johns Hopkins School of Medicine"},{id:"59",dropdownvalue:"Joy Singh"},{id:"60",dropdownvalue:"Koleta Tawake"},{id:"61",dropdownvalue:"Korean International Cooperation Agency"},{id:"62",dropdownvalue:"La Trobe University"},{id:"63",dropdownvalue:"Lions Club International Foundation"},{id:"64",dropdownvalue:"Livai Lutunaika"},{id:"65",dropdownvalue:"Live & Learn Environmental Education"},{id:"66",dropdownvalue:"London School of Hygiene and Tropical Medicine"},{id:"67",dropdownvalue:"Macquarie University"},{id:"68",dropdownvalue:"Massey University"},{id:"69",dropdownvalue:"Ministry of Education, Culture, Sports, Science and Technology Japan"},{id:"70",dropdownvalue:"Ministry of Fisheries"},{id:"71",dropdownvalue:"Ministry of Foreign Affairs and Trade"},{id:"72",dropdownvalue:"Ministry of Health and Medical Services Fiji"},{id:"73",dropdownvalue:"Monash University"},{id:"74",dropdownvalue:"Murdoch Childrens Research Institute"},{id:"75",dropdownvalue:"National Competitive Research Funding Scheme in Australia"},{id:"76",dropdownvalue:"National Tuberculosis Program"},{id:"77",dropdownvalue:"New Colombo Plan Mobility Program Grant"},{id:"78",dropdownvalue:"New Zealand Aid"},{id:"79",dropdownvalue:"New Zealand Dental Association Research Foundation"},{id:"80",dropdownvalue:"Nileshni Devi"},{id:"81",dropdownvalue:"Pacific Eye Institute"},{id:"82",dropdownvalue:"Personal"},{id:"83",dropdownvalue:"Primary investigator"},{id:"84",dropdownvalue:"Primary Researcher"},{id:"85",dropdownvalue:"Ramakrishna Mission"},{id:"86",dropdownvalue:"Reproductive and Family Health Association of Fiji"},{id:"87",dropdownvalue:"Royal Australian and New Zealand College of Psychiatrists"},{id:"88",dropdownvalue:"Royal Melbourne Institute of Technology"},{id:"89",dropdownvalue:"Sharan Ram"},{id:"90",dropdownvalue:"Solomon islands Government"},{id:"91",dropdownvalue:"SSCSiP (An Ausaid initiative)"},{id:"92",dropdownvalue:"Standard of Proof Ltd"},{id:"93",dropdownvalue:"Stanford University"},{id:"94",dropdownvalue:"Suva Golden Oldies Rugby Club"},{id:"95",dropdownvalue:"Thailand International Cooperation Agency"},{id:"96",dropdownvalue:"The Crawford Fund"},{id:"97",dropdownvalue:"The Downs International Health Student Travel Fellowship"},{id:"98",dropdownvalue:"The George Institute of Global Health"},{id:"99",dropdownvalue:"The Pacific Community"},{id:"100",dropdownvalue:"The Royal Australian and New Zealand College of Obstetricians and Gynaecologists"},{id:"101",dropdownvalue:"The Swedish International Development Cooperation Agency"},{id:"102",dropdownvalue:"The University of Sydney"},{id:"103",dropdownvalue:"The University of the South Pacific"},{id:"104",dropdownvalue:"The University of Warwick"},{id:"105",dropdownvalue:"The Victorian Health Promotion Foundation"},{id:"106",dropdownvalue:"United Nations Childrens Fund"},{id:"107",dropdownvalue:"United States Agency for International Development"},{id:"108",dropdownvalue:"University of Auckland"},{id:"109",dropdownvalue:"University of Canterbury"},{id:"110",dropdownvalue:"University of Fiji"},{id:"111",dropdownvalue:"University of Hawaii"},{id:"112",dropdownvalue:"University of New South Wales"},{id:"113",dropdownvalue:"University of Otago Wellington"},{id:"114",dropdownvalue:"University of Oxford"},{id:"115",dropdownvalue:"University of Queensland"},{id:"116",dropdownvalue:"University of Tasmania"},{id:"117",dropdownvalue:"University of Tokyo"},{id:"118",dropdownvalue:"University of Tsukuba"},{id:"119",dropdownvalue:"University of Western Australia"},{id:"120",dropdownvalue:"Uppsala University, Sweden, Department of Psychology"},{id:"121",dropdownvalue:"URPC Grant"},{id:"122",dropdownvalue:"UTHealth"},{id:"123",dropdownvalue:"Viseisei Sai Health Centre"},{id:"124",dropdownvalue:"Waitemata District Health Board"},{id:"125",dropdownvalue:"Warren Thaggard"},{id:"126",dropdownvalue:"Welcome Trust"},{id:"127",dropdownvalue:"Western Pacific Regional Office of the World Heath Organization"},{id:"128",dropdownvalue:"Whitireia WelTech"},{id:"129",dropdownvalue:"WHO Tropical Disease Research"},{id:"130",dropdownvalue:"Womens Dermatology Society USA"},{id:"131",dropdownvalue:"World Bank"},{id:"132",dropdownvalue:"World Health Organization"},{id:"133",dropdownvalue:"World Heart Federation"},{id:"134",dropdownvalue:"World Vision"},{id:"135",dropdownvalue:"Other"}]},1350:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),r=a(0),i=c(r),s=a(21),l=a(36),d=c(a(1277)),u=c(a(29));a(37);var p=c(a(141));function c(e){return e&&e.__esModule?e:{default:e}}var f=void 0,m=s.Form.Item,h=(s.Select.Option,s.Checkbox.Group,s.Radio.Group),g=(s.Input.TextArea,new URLSearchParams(window.location.search)),v=g.get("id"),b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSelectChange=function(){},a.handleSubmit=function(e){e.preventDefault(),a.setState({disabledButton:!1}),a.props.form.validateFields((function(e,t){e||(a.setState({disabledButton:!0}),t.isProposal=!0,t.proposalId=v,fetch(u.default.APIURL+"/saveProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({data:t})}).then((function(e){return e.json()})).then((function(e){200===e.status?(a.state.disabledButton=!1,a.setState({disabledButton:!1}),e.proposalData[0].proposalId&&(f=e.proposalData[0].proposalId,a.props.sendData(f)),l.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}),d.default.callback("6",{tab5:!0})):300===e.status?l.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):500===e.status?a.props.history.push("/serverError"):400===e.status?a.props.history.push("/badRequest"):403===e.status&&a.props.history.push("/forbiddenRequest")})))}))},a.state={identity:"",age:"",dependentRelation:"",minorityGroup:"",mentalImpairment:"",pregnant:"",anyTest:"",biologicalSamples:"",ionizationRadiation:"",distress:"",inducements:"",sensitiveInfo:"",reproductiveTech:"",humanGenetic:"",stemCell:"",biosafeIssue:"",disabledButton:!1,proposalFormid:""},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(window.location.search).get("id");fetch(u.default.APIURL+"/getProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({proposalId:t})}).then((function(e){return e.json()})).then((function(t){200===t.status&&e.setState({identity:t.proposalData.identity,age:t.proposalData.age,dependentRelation:t.proposalData.dependentRelation,minorityGroup:t.proposalData.minorityGroup,mentalImpairment:t.proposalData.mentalImpairment,pregnant:t.proposalData.pregnant,anyTest:t.proposalData.anyTest,biologicalSamples:t.proposalData.biologicalSamples,ionizationRadiation:t.proposalData.ionizationRadiation,distress:t.proposalData.distress,inducements:t.proposalData.inducements,sensitiveInfo:t.proposalData.sensitiveInfo,reproductiveTech:t.proposalData.reproductiveTech,humanGenetic:t.proposalData.humanGenetic,stemCell:t.proposalData.stemCell,biosafeIssue:t.proposalData.biosafeIssue,proposalFormid:t.proposalData.proposalId}),300===t.status?(e.state.disabledButton=!1,e.setState({disabledButton:!1}),l.toast.error(t.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):500===t.status?e.props.history.push("/serverError"):400===t.status?e.props.history.push("/badRequest"):403===t.status&&e.props.history.push("/forbiddenRequest")}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return i.default.createElement(s.Form,{onSubmit:this.handleSubmit},i.default.createElement(m,o({label:"Whose identity may be revealed during the research process?"},t),e("identity",{initialValue:this.state.identity,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,o({label:"Under 18 years old?"},t),e("age",{initialValue:this.state.age,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,o({label:"In a dependent relationship with any of the research team members?"},t),e("dependentRelation",{initialValue:this.state.dependentRelation,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No"))),i.default.createElement("div",null,i.default.createElement("span",null,"(e.g. a researcher is the treating physician of one of the research participants) "))),i.default.createElement(m,o({label:"From an ethnic minority group?"},t),e("minorityGroup",{initialValue:this.state.minorityGroup,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,o({label:"With intellectual or mental impairment?"},t),e("mentalImpairment",{initialValue:this.state.mentalImpairment,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,o({label:"Who are pregnant?"},t),e("pregnant",{initialValue:this.state.pregnant,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement("h4",null,"Does the research include:"),i.default.createElement(m,o({label:"A new treatment, medical procedure or test?"},t),e("anyTest",{initialValue:this.state.anyTest,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,o({label:"Collection of biological samples including tissue extraction?"},t),e("biologicalSamples",{initialValue:this.state.biologicalSamples,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,o({label:"Use of ionizing radiation?"},t),e("ionizationRadiation",{initialValue:this.state.ionizationRadiation,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,o({label:"Pain or psychological distress?"},t),e("distress",{initialValue:this.state.distress,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,o({label:"Inducements?"},t),e("inducements",{initialValue:this.state.inducements,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,o({label:"Collection of sensitive information?"},t),e("sensitiveInfo",{initialValue:this.state.sensitiveInfo,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,o({label:"Assisted reproductive technology?"},t),e("reproductiveTech",{initialValue:this.state.reproductiveTech,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,o({label:"Human genetic or genomic studies?"},t),e("humanGenetic",{initialValue:this.state.humanGenetic,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,o({label:"Stem cell research?"},t),e("stemCell",{initialValue:this.state.stemCell,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,o({label:"Biosafety issue?"},t),e("biosafeIssue",{initialValue:this.state.biosafeIssue,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(h,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(m,{wrapperCol:{xs:24,sm:{span:12,offset:5}}},i.default.createElement(s.Button,{type:"primary",disabled:this.state.disabledButton,htmlType:"submit"},"Save and Continue")))}}]),t}(r.Component),y=s.Form.create()(b);t.default=y},1351:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),r=a(0),i=c(r),s=a(21),l=a(36),d=c(a(1277)),u=c(a(29));c(a(46));a(37);var p=c(a(141));function c(e){return e&&e.__esModule?e:{default:e}}var f=s.Form.Item,m=s.Select.Option,h=s.Checkbox.Group,g=s.Radio.Group,v=s.Input.TextArea,b=new URLSearchParams(window.location.search),y=void 0,w=b.get("id"),C=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSubmit=function(e){e.preventDefault(),a.setState({disabledButton:!1}),a.props.form.validateFields((function(e,t){e||(a.setState({disabledButton:!0}),t.proposalId=w,t.isProposal=!0,fetch(u.default.APIURL+"/saveProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({data:t})}).then((function(e){return e.json()})).then((function(e){200===e.status&&(a.state.disabledButton=!1,a.setState({disabledButton:!1}),e.proposalData[0].proposalId&&(y=e.proposalData[0].proposalId,a.props.sendData(y)),l.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}),d.default.callback("7",{tab6:!0})),300===e.status?(a.state.disabledButton=!1,a.setState({disabledButton:!1}),l.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):500===e.status?a.props.history.push("/serverError"):400===e.status?a.props.history.push("/badRequest"):403===e.status&&a.props.history.push("/forbiddenRequest")})))}))},a.handleSelectChange=function(e){a.setState({levelRisk:e})},a.state={value:"",levelRisk:"",riskApply:"",briefRisk:"",managedRisk:"",benefits:"",multiInistitution:"",conflict:"",disabledButton:!1,proposalFormid:""},a.handleSubmit=a.handleSubmit.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this;fetch(u.default.APIURL+"/getProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({proposalId:w})}).then((function(e){return e.json()})).then((function(t){200===t.status&&e.setState({levelRisk:t.proposalData.levelRisk,riskApply:t.proposalData.riskApply,briefRisk:t.proposalData.briefRisk,managedRisk:t.proposalData.managedRisk,benefits:t.proposalData.benefits,multiInistitution:t.proposalData.multiInistitution,conflict:t.proposalData.conflict,proposalFormid:t.proposalData.proposalId}),300===t.status?l.toast.error(t.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):500===t.status?e.props.history.push("/serverError"):400===t.status?e.props.history.push("/badRequest"):403===t.status&&e.props.history.push("/forbiddenRequest")}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}};return i.default.createElement(s.Form,{onSubmit:this.handleSubmit},i.default.createElement(f,o({label:"Level of the risk involved in Research"},t),e("levelRisk",{initialValue:this.state.levelRisk,rules:[{required:!0,message:p.default.ValidationMessages.riskInvolvedValidation}]})(i.default.createElement(s.Select,{placeholder:"Please select level of risk involved",onChange:this.handleSelectChange},i.default.createElement(m,{value:"No more than minimal risk"},"No more than minimal risk"),i.default.createElement(m,{value:"Minor increase over minimal risk"},"Minor increase over minimal risk"),i.default.createElement(m,{value:"More than minor increase over minimal risk"},"More than minor increase over minimal risk")))),"No more than minimal risk"===this.state.levelRisk?i.default.createElement(f,o({label:"Risks apply to"},t),e("riskApply",{initialValue:this.state.riskApply,rules:[{required:!0,message:p.default.ValidationMessages.risksApplyValidation}]})(i.default.createElement(s.Select,{placeholder:"Risks apply to "},i.default.createElement(m,{value:"Research Team"},"Research Team"),i.default.createElement(m,{value:"Research Subjects"},"Research Subjects"),i.default.createElement(m,{value:"Wider Community"},"Wider Community")))):null,"Minor increase over minimal risk"===this.state.levelRisk||"More than minor increase over minimal risk"===this.state.levelRisk?[i.default.createElement(f,o({label:"Briefly list the risks"},t),e("briefRisk",{initialValue:this.state.briefRisk,rules:[{required:!0,message:p.default.ValidationMessages.briefRiskValidation},{max:200,message:p.default.ValidationMessages.briefRiskCharValidation},{pattern:new RegExp("^[a-zA-Z0-9-,]+(s{0,1}[a-zA-Z0-9-, ])*$"),message:p.default.ValidationMessages.alphabetNumberPatternValidation}]})(i.default.createElement(v,{rows:3,placeholder:"Please input list of risks"}))),i.default.createElement(f,o({label:"How are risks minimized/managed?"},t),e("managedRisk",{initialValue:this.state.managedRisk,rules:[{required:!0,message:p.default.ValidationMessages.riskManagedValidation},{max:200,message:p.default.ValidationMessages.riskManagedCharValidation},{pattern:new RegExp("^[a-zA-Z0-9-,]+(s{0,1}[a-zA-Z0-9-, ])*$"),message:p.default.ValidationMessages.alphabetNumberPatternValidation}]})(i.default.createElement(v,{rows:3,placeholder:"Please input how are risk managed"})))]:null,i.default.createElement(f,o({label:"Benefits from the research project"},t),e("benefits",{initialValue:this.state.benefits,rules:[{required:!0,message:p.default.ValidationMessages.benifitsFromValidation}]})(i.default.createElement(h,{options:[{label:"Direct benefit to participants",value:"Direct benefit to participants"},{label:"Generalizable knowledge about participants condition or disorder",value:"Generalizable knowledge about participants condition or disorder"},{label:"Generalizable knowledge about disease or condition under study",value:"Generalizable knowledge about disease or condition under study"}],onChange:this.onChange}))),i.default.createElement(f,o({label:"Multi-institution Project"},t),e("multiInistitution",{initialValue:this.state.multiInistitution,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(g,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No")))),i.default.createElement(f,o({label:"Conflict of Interest"},t),e("conflict",{initialValue:this.state.conflict,rules:[{required:!0,message:p.default.ValidationMessages.fieldRequiredValidation}]})(i.default.createElement(g,null,i.default.createElement(s.Radio,{value:!0},"Yes"),i.default.createElement(s.Radio,{value:!1},"No"),i.default.createElement(s.Radio,{value:"not sure"},"Not sure")))),i.default.createElement(f,{wrapperCol:{xs:24,sm:{span:12,offset:5}}},i.default.createElement(s.Button,{type:"primary",disabled:this.state.disabledButton,htmlType:"submit"},"Save and Continue")))}}]),t}(r.Component),S=s.Form.create()(C);t.default=S},624:function(e,t,a){"use strict";a.r(t);var o=a(327);a.d(t,"MemoryRouter",(function(){return o.a}));var n=a(328);a.d(t,"Prompt",(function(){return n.a}));var r=a(329);a.d(t,"Redirect",(function(){return r.a}));var i=a(198);a.d(t,"Route",(function(){return i.a}));var s=a(142);a.d(t,"Router",(function(){return s.a}));var l=a(330);a.d(t,"StaticRouter",(function(){return l.a}));var d=a(331);a.d(t,"Switch",(function(){return d.a}));var u=a(170);a.d(t,"generatePath",(function(){return u.a}));var p=a(143);a.d(t,"matchPath",(function(){return p.a}));var c=a(332);a.d(t,"withRouter",(function(){return c.a}))}}]);