(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1292:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ManageProposalInvestigator=void 0;var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),n=a(0),r=f(n),o=a(21),i=f(a(3)),d=a(36),s=f(a(29)),u=f(a(197)),c=f(a(46));function f(e){return e&&e.__esModule?e:{default:e}}a(37);var p=void 0,m=o.Modal.error,E=t.ManageProposalInvestigator=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChange=function(e,t,l){a.setState({sortedInfo:l})},a.state={data:[]},p=a,a.handleChange=a.handleChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;fetch(s.default.APIURL+"/getInvestigatorProposals",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){console.log("sdfsdfsdfsdf",t),200===t.status?e.setState({data:t.proposalData}):300===t.status?d.toast.error(t.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):401===t.status?m({title:c.default.SessionExpired+t.message,content:"",onOk:function(){p.props.history.push("/signIn")}}):500===t.status?e.props.history.push("/serverError"):400===t.status?e.props.history.push("/badRequest"):403===t.status&&e.props.history.push("/forbiddenRequest")}))}},{key:"handleButtonClick",value:function(){this.props.history.push("/newProposal")}},{key:"renderTableData",value:function(){return this.state.data.map((function(e,t){var a=(0,i.default)(e.startDate).format("DD-MM-YYYY"),l=(0,i.default)(e.endDate).format("DD-MM-YYYY");return{key:t,title:e.title,objectives:e.objectives,status:!0===e.isSubmitted&&void 0===e.isRejected?r.default.createElement(o.Tag,{color:"#13c2c2"},"Submitted"):!0===e.isSubmitted&&!0===e.isRejected?r.default.createElement(o.Tag,{color:"#f50"},"Rejected"):r.default.createElement(o.Tag,{color:"#faad14"},"Draft"),action:[!0===e.isSubmitted&&void 0===e.isRejected||!0===e.isSubmitted&&!0===e.isRejected?r.default.createElement("a",{href:"/viewProposal?id="+e.proposalId},r.default.createElement(o.Tooltip,{placement:"top",title:"View"},r.default.createElement(o.Icon,{style:{marginRight:"15px",fontSize:"17px",color:""},type:"eye"}))):r.default.createElement("a",{href:"/editProposal?id="+e.proposalId},r.default.createElement(o.Tooltip,{placement:"top",title:"Edit"},r.default.createElement(o.Icon,{type:"edit",style:{marginRight:"15px",fontSize:"17px",color:""}}))),!0===e.isUnderReview?r.default.createElement("a",{href:"/withDrawProposal?id="+e.proposalId},r.default.createElement(o.Tooltip,{placement:"top",title:"Notification"},r.default.createElement(o.Icon,{style:{marginRight:"15px",fontSize:"17px",color:"grey"},type:"rollback"}))):r.default.createElement("a",{href:"/withDrawProposal?id="+e.proposalId},r.default.createElement(o.Tooltip,{placement:"top",title:"Withdraw"},r.default.createElement(o.Icon,{style:{marginRight:"15px",fontSize:"17px"},type:"rollback"}))),r.default.createElement("a",{href:"/viewNotification?id="+e.proposalId},r.default.createElement(o.Tooltip,{placement:"top",title:"Notification"},r.default.createElement(o.Icon,{style:{marginRight:"15px",fontSize:"17px",color:""},type:"bell"})))],description:[r.default.createElement("div",{style:{display:"flex",marginBottom:"1.5%"}},r.default.createElement("div",{style:{width:"50%"}}," ",r.default.createElement("span",{style:{wordBreak:"break-all"}},r.default.createElement("b",null,"Background : "),void 0===e.background?r.default.createElement("span",null," N/A"):e.background)),r.default.createElement("div",{style:{width:"50%"}}," ",r.default.createElement("span",{style:{wordBreak:"break-all"}},r.default.createElement("b",null,"Expected outcome : "),void 0===e.expectedOutcomes?r.default.createElement("span",null," N/A"):e.expectedOutcomes))),r.default.createElement("div",{style:{display:"flex",marginBottom:"1.5%"}},r.default.createElement("div",{style:{width:"50%"}}," ",r.default.createElement("span",{style:{wordBreak:"break-all"}},r.default.createElement("b",null,"Start date : ")," ",void 0===e.startDate?r.default.createElement("span",null," N/A"):a)),r.default.createElement("div",{style:{width:"50%"}}," ",r.default.createElement("span",{style:{wordBreak:"break-all"}},r.default.createElement("b",null,"End date : ")," ",void 0===e.endDate?r.default.createElement("span",null," N/A"):l))),r.default.createElement("div",{style:{display:"flex",marginBottom:"1.5%"}},r.default.createElement("div",{style:{width:"50%"}}," ",r.default.createElement("span",{style:{wordBreak:"break-all"}},r.default.createElement("b",null,"Keyword : ")," ",void 0===e.keywords?r.default.createElement("span",null," N/A"):e.keywords)),r.default.createElement("div",{style:{width:"50%"}}," ",r.default.createElement("span",{style:{wordBreak:"break-all"}},r.default.createElement("b",null,"Involves human subject : ")," ",void 0===e.humanSubjects?r.default.createElement("span",null," N/A"):!0===e.humanSubjects?"Yes":!1===e.humanSubjects?"No":e.humanSubjects))),r.default.createElement("div",{style:{display:"flex",marginBottom:"1.5%"}},r.default.createElement("div",{style:{width:"50%"}}," ",r.default.createElement("span",{style:{wordBreak:"break-all"}},r.default.createElement("b",null,"Amount : ")," ",r.default.createElement("label",{value:"FJ"},"FJ$ "),void 0===e.amount?r.default.createElement("span",null," N/A"):e.amount)),r.default.createElement("div",{style:{width:"50%"}},r.default.createElement("span",{style:{wordBreak:"break-all"}},r.default.createElement("b",null,"Level of risk involved : ")," ",void 0===e.levelRisk?r.default.createElement("span",null," N/A"):e.levelRisk)))]}}))}},{key:"render",value:function(){document.title="Manage Proposal | "+c.default.PageTitle;var e=[{title:r.default.createElement("div",{style:{fontSize:14}},r.default.createElement("b",null,"Title")),dataIndex:"title",key:"title",ellipsis:!0,width:"30%"},{title:r.default.createElement("div",{style:{fontSize:14}},r.default.createElement("b",null,"Objective")),dataIndex:"objectives",key:"objectives",ellipsis:!0,width:"30%"},{title:r.default.createElement("div",{style:{fontSize:14}},r.default.createElement("b",null,"Status")),dataIndex:"status",key:"status",width:"15%",ellipsis:!0},{title:r.default.createElement("div",{style:{fontSize:14}},r.default.createElement("b",null,"Action")),dataIndex:"action",key:"action",width:"25%",ellipsis:!0}];return r.default.createElement("div",null,r.default.createElement(u.default,{propertyProps:this.props}),r.default.createElement(o.Card,{className:"cardcss",title:r.default.createElement("b",null,"Active Proposals"),extra:r.default.createElement(o.Button,{onClick:this.handleButtonClick.bind(this),type:"primary"},"New Proposal")},r.default.createElement(o.Table,{style:{columnWidth:"30%"},className:"gx-table-responsive",columns:e,expandedRowRender:function(e){return r.default.createElement("p",{style:{margin:0}},e.description)},dataSource:this.renderTableData(),onChange:this.handleChange})))}}]),t}(n.Component);t.default=E}}]);