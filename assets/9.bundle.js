(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1316:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ManageProposalCoordinator=void 0;var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=a(0),s=f(o),l=a(21),i=a(36),n=f(a(29)),c=f(a(197)),d=f(a(1335)),p=f(a(46));a(37);var u=f(a(3));function f(e){return e&&e.__esModule?e:{default:e}}var v=l.Form.Item,m=l.Modal.error,h=l.Input.TextArea,w=l.Input.Search,g=void 0,R=l.Select.Option,y=[{title:s.default.createElement("div",{style:{fontSize:14}},s.default.createElement("b",null,"Title")),dataIndex:"title",key:"title",ellipsis:!0,width:"46%"},{title:s.default.createElement("div",{style:{fontSize:14}},s.default.createElement("b",null,"Status")),dataIndex:"status",key:"status",ellipsis:!0,width:"20%"},{title:s.default.createElement("div",{style:{fontSize:14}},s.default.createElement("b",null,"Action")),dataIndex:"action",key:"action",width:"30%"}],b=t.ManageProposalCoordinator=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleCancel=function(){a.setState({visible:!1}),a.props.form.resetFields()},a.handleRejectForChair=function(e){a.state.disabledForRejectChairButton=!0,a.setState({disabledForRejectChairButton:!0}),fetch(n.default.APIURL+"/rejectProposalByCoordinatorAfterReview",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({rejectionComment:a.state.commentForApproveReject,proposalId:e})}).then((function(e){return e.json()})).then((function(e){200===e.status?(a.state.disabledForRejectChairButton=!1,a.setState({disabledForRejectChairButton:!1}),a.setState((function(t){return{data:a.state.data.map((function(t,a){return t.proposalId===e.proposalData[0].proposalId?t=e.proposalData[0]:t}))}}),(function(){})),i.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):300===e.status?i.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):500===e.status?a.props.history.push("/serverError"):400===e.status?a.props.history.push("/badRequest"):403===e.status&&a.props.history.push("/forbiddenRequest")})),a.setState({loadingChairReject:!0}),setTimeout((function(){a.setState({loadingChairReject:!1,chair:!1})}),1e3)},a.handleOk=function(e){a.state.disabledMarkCompleteButton=!1,a.setState({disabledMarkCompleteButton:!1}),fetch(n.default.APIURL+"/markCompleteProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({proposalId:e})}).then((function(e){return e.json()})).then((function(e){200===e.status?(a.state.disabledMarkCompleteButton=!1,a.setState({disabledMarkCompleteButton:!1}),a.setState((function(){return{data:a.state.data.map((function(t,a){return t.proposalId===e.proposalData.proposalId?t=e.proposalData:t}))}}),(function(){})),a.props.history.push("/manageProposal"),i.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):300===e.status?i.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):500===e.status?a.props.history.push("/serverError"):400===e.status?a.props.history.push("/badRequest"):403===e.status&&a.props.history.push("/forbiddenRequest")})),a.setState({loading:!0}),setTimeout((function(){a.setState({loading:!1,visible:!1})}),1e3)},a.handleApproveForChair=function(e){a.state.disabledForApproveChairButton=!0,a.setState({disabledForApproveChairButton:!0}),fetch(n.default.APIURL+"/markProposalUnderSigned",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({proposalId:e})}).then((function(e){return e.json()})).then((function(e){200===e.status?(a.state.disabledForApproveChairButton=!1,a.setState({disabledForApproveChairButton:!1}),a.setState((function(){return{data:a.state.data.map((function(t,a){return t.proposalId===e.proposalData[0].proposalId?t=e.proposalData[0]:t}))}}),(function(){})),a.props.history.push("/manageProposal"),i.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):300===e.status?i.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):500===e.status?a.props.history.push("/serverError"):400===e.status?a.props.history.push("/badRequest"):403===e.status&&a.props.history.push("/forbiddenRequest")})),a.setState({loadingChairApprove:!0}),setTimeout((function(){a.setState({loadingChairApprove:!1,chair:!1})}),1e3)},a.handleClickOfViewReviewForm=function(e,t){console.log("inside handleClickOfViewReviewForm "),a.props.history.push("/viewReviewForm?id="+e)},a.handleOkForReview=function(e,t){e.preventDefault(),a.setState({disabledReviewTypeSubmitButton:!0}),a.props.form.validateFields(["reviewType"],(function(e,r){console.log("error********",e),console.log("value********",r),e&&a.setState({disabledReviewTypeSubmitButton:!1}),e||fetch(n.default.APIURL+"/assignReviewType",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({proposalId:t,reviewType:a.state.selectedReviewType})}).then((function(e){return e.json()})).then((function(e){200===e.status?(a.setState({review:!1,disabledReviewTypeSubmitButton:!1}),Array.isArray(e.proposalData)?1===e.proposalData[0].reviewType?a.handleOkForSelectReviewers():a.props.history.push("/manageProposal"):1===e.proposalData.reviewType?a.handleOkForSelectReviewers():a.props.history.push("/manageProposal"),i.toast.success(e.message,{position:"top-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):300===e.status?(a.setState({disabledReviewTypeSubmitButton:!1}),i.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):500===e.status?a.props.history.push("/serverError"):400===e.status?a.props.history.push("/badRequest"):403===e.status&&a.props.history.push("/forbiddenRequest")}))}))},a.handleOkForSelectReviewers=function(){a.setState({showAssignReviewers:!0})},a.handleClickOfReject=function(e,t){a.setState({showModalToReject:!0,proposalId:e,title:t})},a.handleSubmitReject=function(){fetch(n.default.APIURL+"/rejectProposalByCoordinator/"+a.state.proposalId,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({data:{rejectionComment:a.state.commentForReject}})}).then((function(e){return e.json()})).then((function(e){200===e.status?(g.setState({data:e.proposalData,showModalToReject:!1}),a.props.history.push("/manageProposal"),i.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):300===e.status?i.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):500===e.status?a.props.history.push("/serverError"):400===e.status?a.props.history.push("/badRequest"):403===e.status&&a.props.history.push("/forbiddenRequest")}))},a.handleCancelForReview=function(){a.setState({review:!1,selectedReviewType:""}),a.props.form.resetFields()},a.handleCancelForSelectReviewers=function(){a.setState({reviewer:!1}),a.props.form.resetFields()},a.handleCancelForChair=function(){a.setState({chair:!1,commentForApproveReject:""}),a.props.form.resetFields()},a.handleCancelForMarkIncomplete=function(){a.setState({markIncomplete:!1}),a.props.form.resetFields()},a.handleCancelAssignReviewers=function(){a.setState({showAssignReviewers:!1}),a.props.form.resetFields()},a.handleChange=function(e){var t,r,o;a.setState((t={},r=e.target.name,o=e.target.value,r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t))},a.handleSelectChange=function(e){a.setState({selectedReviewType:e})},a.handleSelect_ReviewerTypeOne=function(e){localStorage.setItem("reviewerTypeOne",e);var t=localStorage.getItem("reviewerTypeOne");return"3"===t?a.setState({reviewerOneData:a.state.allInternalReviewers.filter((function(e){return e.id!=a.state.reviewerTwo}))}):"4"===t?a.setState({reviewerOneData:a.state.allExternalReviewers.filter((function(e){return e.id!=a.state.reviewerTwo}))}):null},a.handleSelect_ReviewerTypeTwo=function(e){localStorage.setItem("reviewerTypeTwo",e);var t=localStorage.getItem("reviewerTypeTwo");return"3"===t?a.setState({reviewerTwoData:a.state.allInternalReviewers.filter((function(e){return e.id!==a.state.reviwerOne}))}):"4"===t?a.setState({reviewerTwoData:a.state.allExternalReviewers.filter((function(e){return e.id!==a.state.reviwerOne}))}):null},a.handleSelect_ReviewerOne=function(e){a.setState({reviwerOne:e});var t=localStorage.getItem("reviewerTypeTwo"),r=[];r="3"===t?a.state.allInternalReviewers.filter((function(t){return t.id!==e})):"4"===t?a.state.allExternalReviewers.filter((function(t){return t.id!==e})):a.state.reviewerTwoData,console.log("filteredData",r),a.setState({reviewerTwoData:r}),console.log("reviewerTwo",a.state.reviewerTwoData);var o=e;console.log("reviewer one...................",e);var s=a.state.allInternalReviewers.find((function(e){return e.id===o})),l=a.state.allExternalReviewers.find((function(e){return e.id===o}));console.log("##############################"),console.log(s),console.log(l),void 0===s?a.setState({selectedReviewerOne:l}):a.setState({selectedReviewerOne:s})},a.handleSelect_ReviewerTwo=function(e){console.log("reviewer two...............",e),a.setState({reviewerTwo:e});var t=localStorage.getItem("reviewerTypeOne"),r=[];console.log("type one ................",a.props.reviewerTypeOne),r="3"===t?a.state.allInternalReviewers.filter((function(t){return t.id!==e})):"4"===t?a.state.allExternalReviewers.filter((function(t){return t.id!==e})):a.state.reviewerOneData,console.log("filteredData",r),a.setState({reviewerOneData:r}),console.log("reviewerOne",a.state.ReviewerOneData);var o=e,s=a.state.allInternalReviewers.find((function(e){return e.id===o})),l=a.state.allExternalReviewers.find((function(e){return e.id===o}));console.log("##############################"),console.log(s),console.log(l),void 0===s?a.setState({selectedReviewerTwo:l}):a.setState({selectedReviewerTwo:s})},a.handleSubmit_AssignReviewer=function(e,t){e.preventDefault(),a.setState({disabledSubmitButton:!0}),a.props.form.validateFields(["reviewerTypeOne","reviewerTypeTwo","reviewerOne","reviewerTwo"],(function(e,r){if(console.log("error********",e),console.log("value********",r),console.log("inside submit of assigning reviewers"),console.log("reviewer one",a.state.selectedReviewerOne),console.log("reviewer tye",a.state.reviewerTypeOne),console.log("************************"),console.log("reviewer two",a.state.selectedReviewerTwo),console.log("reviewer type",a.state.reviewerTypeTwo),e&&a.setState({disabledSubmitButton:!1}),!e){var o=[];o.push({role:a.state.selectedReviewerOne.role,id:a.state.selectedReviewerOne.id,firstName:a.state.selectedReviewerOne.firstName,lastName:a.state.selectedReviewerOne.lastName,email:a.state.selectedReviewerOne.email}),o.push({role:a.state.selectedReviewerTwo.role,id:a.state.selectedReviewerTwo.id,firstName:a.state.selectedReviewerTwo.firstName,lastName:a.state.selectedReviewerTwo.lastName,email:a.state.selectedReviewerTwo.email}),console.log("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"),console.log(o),fetch(n.default.APIURL+"/assignReviewersToProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({proposalId:t,data:o})}).then((function(e){return e.json()})).then((function(e){200===e.status?(a.setState({data:e.proposalData,showAssignReviewers:!1,disabledSubmitButton:!1}),a.props.history.push("/manageProposal"),i.toast.success(p.default.assignReviewers,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):300===e.status?(a.setState({disabledSubmitButton:!1}),i.toast.error(p.default.ErrorInAssignReviewer,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):401===e.status?m({title:p.default.SessionExpired+e.message,content:"",onOk:function(){g.props.history.push("/signIn")}}):500===e.status?(i.toast.error(p.default.ErrorInAssignReviewer,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}),a.props.history.push("/badRequest")):403===e.status&&(i.toast.error(p.default.ErrorInAssignReviewer,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}),a.props.history.push("/forbiddenRequest"))}))}}))},a.handleCancelReject=function(){a.setState({showModalToReject:!1}),a.props.form.resetFields()},a.HandleSearchChange=function(e){""===e.target.value&&a.getAllProposals()},a.onCustomSearch=function(e){console.log("search value ****",e),a.setState({searchValue:e}),fetch(n.default.APIURL+"/proposals/"+e,{headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){200===e.status?a.setState({data:e.proposals}):300===e.status?i.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):401===e.status?m({title:p.default.SessionExpired+e.message,content:"",onOk:function(){g.props.history.push("/signIn")}}):500===e.status?a.props.history.push("/serverError"):400===e.status?a.props.history.push("/badRequest"):403===e.status&&a.props.history.push("/forbiddenRequest")}))},a.handlechange=function(e){console.log(e)},a.state={data:[],allInternalReviewers:[],allExternalReviewers:[],reviewersData:[],loading:!1,visible:!1,markIncomplete:!1,review:!1,showAssignReviewers:!1,commentForMarkComplete:"",commentForMarkInComplete:"",loadingMarkIncomplete:!1,proposalId:"",selectedReviewType:"",chair:!1,loadingChairApprove:!1,loadingChairReject:!1,commentForApproveReject:"",title:"",disabledMarkCompleteButton:!1,disabledMarkInCompleteButton:!1,disabledSubmitForReviewButton:!0,disabledForReviewButton:!1,disabledSubmitForSelectReviewers:!0,disabledForApproveChairButton:!1,disabledForRejectChairButton:!1,selectedReviewerOne:{},selectedReviewerTwo:{},assignReviewersData:[],searchValue:"",reviwerOne:"",reviewerTwo:"",reviewerTypeOne:"",reviewerTypeTwo:"",reviewerOneData:[],reviewerTwoData:[],commentForReject:"",isSelectReviewType:!0,reviewListIfAnyRejects:void 0,disabledSubmitButton:!1,disabledReviewTypeSubmitButton:!1},g=a,a.handleSubmit_AssignReviewer=a.handleSubmit_AssignReviewer.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillMount",value:function(){this.getAllProposals()}},{key:"getAllProposals",value:function(){var e=this;fetch(n.default.APIURL+"/getAllProposal",{headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){200===t.status?(e.setState({data:t.proposalData}),t.proposalData.map((function(t){return t.assignedReviewers&&t.assignedReviewers[0].isReviewAccepted&&"false"===t.assignedReviewers[0].isReviewAccepted&&"false"===t.assignedReviewers[1].isReviewAccepted?e.setState({selectedReviewerOne:"",selectedReviewerTwo:""}):void 0===t.assignedReviewers||t.assignedReviewers&&void 0===t.assignedReviewers[0].isReviewAccepted||"true"===t.assignedReviewers[0].isReviewAccepted?e.setState({selectedReviewerOne:t.assignedReviewers&&t.assignedReviewers[0]}):void 0===t.assignedReviewers||t.assignedReviewers&&void 0===t.assignedReviewers[1].isReviewAccepted||"true"===t.assignedReviewers[1].isReviewAccepted?e.setState({selectedReviewerTwo:t.assignedReviewers&&t.assignedReviewers[1]}):e.setState({selectedReviewerOne:"",selectedReviewerTwo:""})}))):300===t.status?i.toast.error(t.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):401===t.status?m({title:p.default.SessionExpired+t.message,content:"",onOk:function(){g.props.history.push("/signIn")}}):500===t.status?e.props.history.push("/serverError"):400===t.status?e.props.history.push("/badRequest"):403===t.status&&e.props.history.push("/forbiddenRequest")})),fetch(n.default.APIURL+"/getAllInternalReviewer",{headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){console.log("res from getAllInternalReviewers"),console.log(t),200===t.status&&e.setState({allInternalReviewers:t.internalReviewerData})})),fetch(n.default.APIURL+"/getAllExternalReviewer",{headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){console.log("res from getAllExternalReviewers"),console.log(t),200===t.status&&e.setState({allExternalReviewers:t.externalReviewerData})}))}},{key:"componentDidMount",value:function(){localStorage.removeItem("reviewerTypeOne"),localStorage.removeItem("reviewerTypeTwo")}},{key:"handleOkFore",value:function(e){var t=this;this.state.disabledMarkInCompleteButton=!0,this.setState({disabledMarkInCompleteButton:!0}),fetch(n.default.APIURL+"/markIncompleteProposal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({proposalId:e,commentForMarkInComplete:this.state.commentForMarkInComplete})}).then((function(e){return e.json()})).then((function(e){if(200===e.status){t.state.disabledMarkInCompleteButton=!1;var a=t.state.data.map((function(t,a){return t.proposalId===e.proposalData.proposalId?t=e.proposalData:t}));g.setState({data:a}),t.props.history.push("/manageProposal"),i.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})}else 300===e.status?i.toast.error(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}):500===e.status?t.props.history.push("/serverError"):400===e.status?t.props.history.push("/badRequest"):403===e.status&&t.props.history.push("/forbiddenRequest")})),this.setState({loadingMarkIncomplete:!0}),setTimeout((function(){t.setState({loadingMarkIncomplete:!1,markIncomplete:!1})}),1e3)}},{key:"handleMarkCompleteClick",value:function(e,t){this.setState({visible:!0,proposalId:e,title:t})}},{key:"handleClickOfReview",value:function(e,t,a,r){console.log("in handleClickOfReview"),console.log(a),a?"false"!==a[0].isReviewAccepted&&"false"!==a[1].isReviewAccepted||this.setState({showAssignReviewers:!0,review:!1,reviewListIfAnyRejects:a,title:t,proposalId:e}):!0===r?this.setState({showAssignReviewers:!0,review:!1,reviewListIfAnyRejects:a,title:t,proposalId:e}):this.setState({proposalId:e,review:!0,title:t})}},{key:"handleClickOfChair",value:function(e,t,a){this.setState({proposalId:t,chair:!0,title:a})}},{key:"handleMarkIncompleteClick",value:function(e,t){this.setState({markIncomplete:!0,proposalId:e,title:t})}},{key:"renderTableData",value:function(){var e=this,t=this.state.data;return t&&t.map((function(t,a){console.log(t.title+"   "+t.fullReviewEndDate);var r=(0,u.default)(t.fullReviewEndDate).format("DD-MM-YYYY"),o=(0,u.default)(new Date).format("DD-MM-YYYY");console.log("*************** date *********************"),console.log(t.assignedReviewers&&!1===t.assignedReviewers[0].isReviewAccepted),console.log(o),console.log(r===o);var i=0===t.reviewType?"exempted":1===t.reviewType?"expedited":"full";return{key:a,title:t.title,status:[!0===t.isSubmitted&&!0===t.isComplete&&void 0===t.isUnderReview&&void 0===t.isUnderSigned&&void 0===t.isRejected?"Completed":!0===t.isSubmitted&&!0===t.isComplete&&!1===t.isUnderReview&&!0===t.isUnderSigned?"Accepted":!0===t.isComplete&&!0===t.isUnderReview&&void 0===t.isUnderSigned?"Under review - "+i:!0===t.isSubmitted&&!0===t.isComplete&&!0===t.isRejected?"Rejected":"Submitted"],action:[s.default.createElement(s.default.Fragment,null,s.default.createElement("a",{href:"/viewProposal?id="+t.proposalId},s.default.createElement(l.Tooltip,{placement:"top",title:"View"},s.default.createElement(l.Icon,{style:{marginRight:"15px",fontSize:"17px",color:""},type:"eye"}))),s.default.createElement(l.Tooltip,{placement:"top",title:"Mark complete"},void 0!==t.isComplete&&!0===t.isComplete&&(void 0===t.isUnderReview||t.isUnderReview,1)&&(void 0===t.isUnderSigned||t.isUnderSigned,1)?s.default.createElement(l.Icon,{style:{marginRight:"15px",fontSize:"16px",color:"grey"},type:"check-circle",theme:"outlined"}):!0===t.isRejected?s.default.createElement(l.Icon,{style:{marginRight:"15px",fontSize:"16px",color:"grey"},type:"check-circle"}):s.default.createElement(l.Icon,{onClick:function(){return e.handleMarkCompleteClick(t.proposalId,t.title)},style:{marginRight:"15px",fontSize:"16px",color:"green"},type:"check-circle",theme:"outlined"})),s.default.createElement(l.Tooltip,{placement:"top",title:"Mark incomplete"},void 0!==t.isComplete&&!0===t.isComplete&&(void 0===t.isUnderReview||t.isUnderReview,1)&&(void 0===t.isUnderSigned||t.isUnderSigned,1)?s.default.createElement(l.Icon,{style:{marginRight:"15px",fontSize:"16px",color:"grey"},type:"close-circle"}):s.default.createElement(l.Icon,{onClick:function(){return e.handleMarkIncompleteClick(t.proposalId,t.title)},style:{marginRight:"15px",fontSize:"16px",color:"red"},type:"close-circle"})),s.default.createElement(l.Tooltip,{placement:"top",title:"Reject"},null!=t.isComplete&&!0===t.isComplete&&void 0===t.isUnderReview&&void 0===t.isUnderSigned&&void 0===t.isRejected?s.default.createElement(l.Icon,{onClick:function(){return e.handleClickOfReject(t.proposalId,t.title)},style:{marginRight:"15px",fontSize:"16px",color:"red"},type:"stop"}):s.default.createElement(l.Icon,{style:{marginRight:"15px",fontSize:"16px",color:"grey"},type:"stop"})),s.default.createElement(l.Tooltip,{placement:"top",title:"Select review type"},void 0!==t.isComplete&&!0===t.isComplete&&void 0===t.isRejected&&(void 0===t.isUnderReview&&void 0===t.reviewType||!0===t.isUnderReview&&1===t.reviewType&&t.assignedReviewers&&("false"===t.assignedReviewers[0].isReviewAccepted||"false"===t.assignedReviewers[1].isReviewAccepted)||!1!==t.isUnderReview&&2===t.reviewType&&r===o)?s.default.createElement(l.Icon,{onClick:function(){return e.handleClickOfReview(t.proposalId,t.title,t.assignedReviewers,t.isUnderReview)},style:{marginRight:"15px",fontSize:"16px",color:"#1890FF"},type:"select"}):s.default.createElement(l.Icon,{style:{marginRight:"15px",fontSize:"16px",color:"grey"},type:"select"})),s.default.createElement(l.Tooltip,{placement:"top",title:"View review form"},t.assignedReviewers&&t.assignedReviewers[0].isReviewSubmitted&&t.assignedReviewers&&t.assignedReviewers[1].isReviewSubmitted&&void 0===t.isRejected&&void 0===t.isUnderSigned?s.default.createElement(l.Icon,{onClick:function(){return e.handleClickOfViewReviewForm(t.proposalId,t.title)},style:{marginRight:"15px",fontSize:"16px",color:"#1890FF"},type:"file"}):s.default.createElement(l.Icon,{style:{marginRight:"15px",fontSize:"16px",color:"grey"},type:"file"})),s.default.createElement(l.Tooltip,{placement:"top",title:"Consultation with chair person"},!0===t.isComplete&&(!0===t.isUnderReview&&(0===t.reviewType||2===t.reviewType)||1===t.reviewType&&t.assignedReviewers&&t.assignedReviewers[0].isReviewSubmitted&&t.assignedReviewers&&t.assignedReviewers[1].isReviewSubmitted)&&void 0===t.isUnderSigned&&void 0===t.isRejected?s.default.createElement(l.Icon,{onClick:function(){return e.handleClickOfChair(t.proposalId,t.proposalId,t.title)},style:{marginRight:"15px",fontSize:"16px",color:"black"},type:"idcard"}):s.default.createElement(l.Icon,{style:{marginRight:"15px",fontSize:"16px",color:"grey"},type:"idcard"})),s.default.createElement("a",{href:"/viewNotification?id="+t.proposalId},s.default.createElement(l.Tooltip,{placement:"top",title:"Notification"},s.default.createElement(l.Icon,{style:{marginRight:"15px",fontSize:"17px",color:""},type:"bell"}))))],description:s.default.createElement(d.default,{dataItem:t})}}))}},{key:"render",value:function(){var e=this;console.log("in render((((((((((((((((("),console.log(this.state.reviewListIfAnyRejects&&this.state.reviewListIfAnyRejects[0].isReviewAccepted),console.log(this.state.reviewListIfAnyRejects&&this.state.reviewListIfAnyRejects[1].isReviewAccepted),console.log("Internal reviewers......."),console.log(this.state.allInternalReviewers),console.log("HIIIIIIIIIIIIIIIIIIIIIIIII"),console.log(this.state.isReviewAccepted),document.title="Manage Proposal | "+p.default.PageTitle;var t=this.props.form.getFieldDecorator;return s.default.createElement("div",null,s.default.createElement(c.default,{propertyProps:this.props}),s.default.createElement(l.Card,{className:"cardcss",title:s.default.createElement("b",null,"Active Proposals"),extra:s.default.createElement(w,{style:{marginRight:"40px",width:"300px"},placeholder:"Please input proposal title here",onSearch:this.onCustomSearch,onChange:this.HandleSearchChange,enterButton:!0})},s.default.createElement(l.Table,{className:"gx-table-responsive",columns:y,expandedRowRender:function(e){return e.description},dataSource:this.renderTableData()}),s.default.createElement(l.Modal,{visible:this.state.visible,title:s.default.createElement(l.Tooltip,{title:this.state.title},s.default.createElement("span",{style:{display:"inline-block",width:"400px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},"Add comments  (Title : "+this.state.title+")")),onOk:function(){return e.handleOk(e.state.proposalId)},onCancel:this.handleCancel,footer:[s.default.createElement(l.Button,{key:"back",onClick:this.handleCancel},"Cancel"),s.default.createElement(l.Button,{key:"submit",type:"primary",loading:this.state.loading,disabled:this.state.disabledMarkCompleteButton,onClick:function(){return e.handleOk(e.state.proposalId)}},"Mark Complete")]},t("commentForMarkComplete",{})(s.default.createElement(h,{setFieldsValue:this.state.commentForMarkComplete,onChange:this.handleChange,name:"commentForMarkComplete",rows:4,placeholder:"Please input your comment"}))),s.default.createElement(l.Modal,{visible:this.state.markIncomplete,title:s.default.createElement(l.Tooltip,{title:this.state.title},s.default.createElement("span",{style:{display:"inline-block",width:"400px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},"Add comments  (Title : "+this.state.title+")")),onOk:function(){return e.handleOkForMarkIncomplete(e.state.proposalId)},onCancel:function(){return e.handleCancelForMarkIncomplete(e.state.proposalId)},footer:[s.default.createElement(l.Button,{key:"back",onClick:function(){return e.handleCancelForMarkIncomplete(e.state.proposalId)}},"Cancel"),s.default.createElement(l.Button,{key:"submit",disabled:this.state.disabledMarkInCompleteButton,type:"primary",loading:this.state.loadingMarkIncomplete,onClick:function(){return e.handleOkForMarkIncomplete(e.state.proposalId)}},"Mark Incomplete")]},t("commentForMarkInComplete",{})(s.default.createElement(h,{setFieldsValue:this.state.commentForMarkInComplete,onChange:this.handleChange,name:"commentForMarkInComplete",rows:4,placeholder:"Please input your comment"}))),s.default.createElement(l.Modal,{visible:this.state.showModalToReject,title:s.default.createElement(l.Tooltip,{title:this.state.title},s.default.createElement("span",{style:{display:"inline-block",width:"400px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},"Add comments  (Title : "+this.state.title+")")),onOk:function(){return e.handleSubmitReject(e.state.proposalId)},onCancel:this.handleCancelReject,footer:[s.default.createElement(l.Button,{key:"back",onClick:this.handleCancelReject},"Cancel"),s.default.createElement(l.Button,{key:"submit",style:{backgroundColor:"#ff4d4f",color:"white"},loading:this.state.loading,disabled:this.state.disabledMarkCompleteButton,onClick:function(){return e.handleSubmitReject(e.state.proposalId)}},"Reject")]},t("commentForReject",{})(s.default.createElement(h,{setFieldsValue:this.state.commentForReject,onChange:this.handleChange,name:"commentForReject",rows:4,placeholder:"Please input your comment"}))),s.default.createElement(l.Modal,{visible:this.state.review,title:s.default.createElement(l.Tooltip,{title:this.state.title},s.default.createElement("span",{style:{display:"inline-block",width:"400px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},"Select review type  (Title : "+this.state.title+")")),onOk:function(t){return e.handleOkForReview(t,e.state.proposalId)},onCancel:function(){return e.handleCancelForReview(e.state.proposalId)},footer:[s.default.createElement(l.Button,{key:"back",onClick:function(){return e.handleCancelForReview(e.state.proposalId)}},"Cancel"),s.default.createElement(l.Button,{key:"submit",type:"primary",disabled:this.state.disabledReviewTypeSubmitButton,onClick:function(t){return e.handleOkForReview(t,e.state.proposalId)}},"Submit")]},s.default.createElement(l.Form,null,s.default.createElement(v,{label:"Select review type"},t("reviewType",{rules:[{required:!0,message:p.default.ReviewTypeValidation}]})(s.default.createElement(l.Select,{name:"reviewType",placeholder:"Select review type",onChange:this.handleSelectChange,style:{width:"180px"}},s.default.createElement(R,{value:"Exempted_Review"},"Exempted"),s.default.createElement(R,{value:"Expedited_Review"},"Expedited"),s.default.createElement(R,{value:"Full_Review"},"Full Review")))))),s.default.createElement(l.Modal,{visible:this.state.showAssignReviewers,title:s.default.createElement(l.Tooltip,{title:this.state.title},s.default.createElement("span",{style:{display:"inline-block",width:"400px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},"Assign  reviewers (Title : "+this.state.title+")")),onCancel:this.handleCancelAssignReviewers,footer:[s.default.createElement(l.Button,{key:"back",onClick:this.handleCancelAssignReviewers},"Cancel"),s.default.createElement(l.Button,{key:"submit",htmlType:"submit",type:"primary",disabled:this.disabledSubmitButton,onClick:function(t){return e.handleSubmit_AssignReviewer(t,e.state.proposalId)}},"Submit")]},s.default.createElement(l.Form,null,this.state.reviewListIfAnyRejects&&void 0===this.state.reviewListIfAnyRejects[0].isReviewAccepted?s.default.createElement(l.Row,null,s.default.createElement(l.Col,{span:15},s.default.createElement(v,{label:"Reviewer one"},t("reviewerOne",{initialValue:this.state&&this.state.reviewListIfAnyRejects&&this.state.reviewListIfAnyRejects[0].firstName+" "+this.state.reviewListIfAnyRejects[0].lastName,rules:[{required:!0,message:p.default.ReviewerOneRequired}]})(this.state.reviewListIfAnyRejects&&void 0===this.state.reviewListIfAnyRejects[0].isReviewAccepted&&s.default.createElement("div",{style:{width:170,marginLeft:"30px"}},this.state.reviewListIfAnyRejects[0].firstName," ",this.state.reviewListIfAnyRejects[0].lastName))))):s.default.createElement(l.Row,null,s.default.createElement(l.Col,{span:15},s.default.createElement(v,{label:"Reviewer one"},t("reviewerTypeOne",{rules:[{required:!0,message:p.default.ReviewerTypeValidation}]})(s.default.createElement(l.Select,{name:"reviewerTypeOne",placeholder:"select reviewer type",setFieldsValue:this.state.reviewerTypeOne,onChange:this.handleSelect_ReviewerTypeOne,style:{width:170},bordered:!1},s.default.createElement(R,{value:"3"},"Internal"),s.default.createElement(R,{value:"4"},"External"))))),s.default.createElement(l.Col,{span:8},s.default.createElement(v,{label:""},t("reviewerOne",{rules:[{required:!0,message:p.default.ReviewerOneRequired}]})(s.default.createElement(l.Select,{placeholder:"select reviewer ",setFieldsValue:this.state.reviwerOne,onChange:this.handleSelect_ReviewerOne,style:{width:170},bordered:!1,name:"reviewerOne"},this.state.reviewerOneData&&this.state.reviewerOneData.map((function(t){return console.log("item in this.state.reviewerOneData"),console.log(e.state.reviewerOneData),s.default.createElement(R,{value:t.id},t.firstName," ",t.lastName)}))))))),this.state.reviewListIfAnyRejects&&void 0===this.state.reviewListIfAnyRejects[1].isReviewAccepted?s.default.createElement(l.Row,null,s.default.createElement(l.Col,{span:15},s.default.createElement(v,{label:"Reviewer two"},t("reviewerTwo",{initialValue:this.state&&this.state.reviewListIfAnyRejects&&this.state.reviewListIfAnyRejects[1].firstName+" "+this.state.reviewListIfAnyRejects[1].lastName,rules:[{required:!0,message:p.default.ReviewerTwoRequired}]})(this.state.reviewListIfAnyRejects&&void 0===this.state.reviewListIfAnyRejects[1].isReviewAccepted&&s.default.createElement("div",{style:{width:170,marginLeft:"30px"}},this.state.reviewListIfAnyRejects[1].firstName," ",this.state.reviewListIfAnyRejects[1].lastName))))):s.default.createElement(l.Row,null,s.default.createElement(l.Col,{span:15},s.default.createElement(v,{label:"Reviewer two"},t("reviewerTypeTwo",{rules:[{required:!0,message:p.default.ReviewerTypeValidation}]})(s.default.createElement(l.Select,{placeholder:"select reviewer type",name:"reviewerTypeTwo",setFieldsValue:this.state.reviewerTypeTwo,onChange:this.handleSelect_ReviewerTypeTwo,style:{width:170},bordered:!1},s.default.createElement(R,{value:"3"},"Internal"),s.default.createElement(R,{value:"4"},"External"))))),s.default.createElement(l.Col,{span:8},s.default.createElement(v,{label:""},t("reviewerTwo",{rules:[{required:!0,message:p.default.ReviewerTwoRequired}]})(s.default.createElement(l.Select,{setFieldsValue:this.state.reviewerTwo,placeholder:"select reviewer ",onChange:this.handleSelect_ReviewerTwo,style:{width:170},bordered:!1},this.state.reviewerTwoData&&this.state.reviewerTwoData.map((function(t){return console.log("item in this.state.reviewerTwoData"),console.log(e.state.reviewerTwoData),s.default.createElement(R,{value:t.id},t.firstName," ",t.lastName)}))))))))),s.default.createElement(l.Modal,{visible:this.state.chair,title:"Add comments  (Title : "+this.state.title+")",onOk:function(){return e.handleApproveForChair(g.state.proposalId)},justOkText:function(){return e.handleRejectForChair(g.state.proposalId)},onCancel:function(){return e.handleCancelForChair(g.state.proposalId)},footer:[s.default.createElement(l.Button,{key:"back",onClick:function(){return e.handleCancelForChair(g.state.proposalId)}},"Cancel"),s.default.createElement(l.Button,{type:"primary",disable:this.state.disabledForApproveChairButton,key:"submit",loading:this.state.loadingChairApprove,onClick:function(){return e.handleApproveForChair(g.state.proposalId)}},"Approve"),s.default.createElement(l.Button,{disable:this.state.disabledForRejectChairButton,style:{backgroundColor:"#ff4d4f",color:"white"},loading:this.state.loadingChairReject,onClick:function(){return e.handleRejectForChair(g.state.proposalId)}},"Reject")]},t("commentForApproveReject",{})(s.default.createElement(h,{setFieldsValue:this.state.commentForApproveReject,onChange:this.handleChange,name:"commentForApproveReject",rows:4,placeholder:"Please input your comment"})))))}}]),t}(o.Component),C=l.Form.create()(b);t.default=C},1335:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataForDescription=void 0;var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=a(0),s=i(o),l=i(a(3));function i(e){return e&&e.__esModule?e:{default:e}}var n=t.DataForDescription=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e;e=this.props.dataItem;var t=(0,l.default)(e.startDate).format("DD-MM-YYYY"),a=(0,l.default)(e.endDate).format("DD-MM-YYYY");return s.default.createElement("div",null,s.default.createElement("div",{style:{display:"flex",marginBottom:"1.5%"}},s.default.createElement("div",{style:{width:"50%"}}," ",s.default.createElement("span",{style:{wordBreak:"break-all"}},s.default.createElement("b",null,"First name : "),e&&e.investigator&&void 0===e.investigator.firstName?s.default.createElement("span",null," N/A"):e.investigator.firstName)),s.default.createElement("div",{style:{width:"50%"}}," ",s.default.createElement("span",{style:{wordBreak:"break-all"}},s.default.createElement("b",null,"Last name : "),void 0===e.investigator.lastName?s.default.createElement("span",null," N/A"):e.investigator.lastName))),s.default.createElement("div",{style:{display:"flex",marginBottom:"1.5%"}},s.default.createElement("div",{style:{width:"50%"}}," ",s.default.createElement("span",{style:{wordBreak:"break-all"}},s.default.createElement("b",null,"Background : "),void 0===e.background?s.default.createElement("span",null," N/A"):e.background)),s.default.createElement("div",{style:{width:"50%"}}," ",s.default.createElement("span",{style:{wordBreak:"break-all"}},s.default.createElement("b",null,"Expected outcome : "),void 0===e.expectedOutcomes?s.default.createElement("span",null," N/A"):e.expectedOutcomes))),s.default.createElement("div",{style:{display:"flex",marginBottom:"1.5%"}},s.default.createElement("div",{style:{width:"50%"}}," ",s.default.createElement("span",{style:{wordBreak:"break-all"}},s.default.createElement("b",null,"Start date : ")," ",void 0===e.startDate?s.default.createElement("span",null," N/A"):t)),s.default.createElement("div",{style:{width:"50%"}}," ",s.default.createElement("span",{style:{wordBreak:"break-all"}},s.default.createElement("b",null,"End date : ")," ",void 0===e.endDate?s.default.createElement("span",null," N/A"):a))),s.default.createElement("div",{style:{display:"flex",marginBottom:"1.5%"}},s.default.createElement("div",{style:{width:"50%"}}," ",s.default.createElement("span",{style:{wordBreak:"break-all"}},s.default.createElement("b",null,"Keyword : ")," ",void 0===e.keywords?s.default.createElement("span",null," N/A"):e.keywords)),s.default.createElement("div",{style:{width:"50%"}}," ",s.default.createElement("span",{style:{wordBreak:"break-all"}},s.default.createElement("b",null,"Involves human subject : ")," ",void 0===e.humanSubjects?s.default.createElement("span",null," N/A"):!0===e.humanSubjects?"Yes":!1===e.humanSubjects?"No":e.humanSubjects))),s.default.createElement("div",{style:{display:"flex",marginBottom:"1.5%"}},s.default.createElement("div",{style:{width:"50%"}}," ",s.default.createElement("span",{style:{wordBreak:"break-all"}},s.default.createElement("b",null,"Amount : ")," ",s.default.createElement("label",{value:"FJ"},"FJ$ "),void 0===e.amount?s.default.createElement("span",null," N/A"):e.amount)),s.default.createElement("div",{style:{width:"50%"}},s.default.createElement("span",{style:{wordBreak:"break-all"}},s.default.createElement("b",null,"Level of risk involved : ")," ",void 0===e.levelRisk?s.default.createElement("span",null," N/A"):e.levelRisk))))}}]),t}(o.Component);t.default=n}}]);