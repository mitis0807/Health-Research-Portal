(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1320:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.ReviewForm=void 0;var l=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},r=function(){function e(e,a){for(var t=0;t<a.length;t++){var l=a[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(a,t,l){return t&&e(a.prototype,t),l&&e(a,l),a}}(),i=t(21),s=h(t(626)),d=h(t(627)),n=t(0),u=h(n),o=h(t(46)),m=h(t(29)),f=t(36),c=h(t(197)),p=h(t(241));function h(e){return e&&e.__esModule?e:{default:e}}var g=i.Form.Item,x=a.ReviewForm=function(e){function a(e){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.handleChange=function(e){var a,l,r;console.log("IstheproposedresearchrelevancetoFijiContext",e.target.value),t.setState((a={},l=e.target.name,r=e.target.value,l in a?Object.defineProperty(a,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[l]=r,a))},t.handleSubmit_ReviewForm=function(e){e.preventDefault(),t.props.form.validateFields((function(e,a){console.log("values *************",a),e||(t.setState({disabledSubmit:!0}),fetch(m.default.APIURL+"/submitReview",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){200===e.status?(f.toast.success(e.message,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}),t.setState({disabledSubmit:!1}),t.props.history.push("/reviewProposal")):300===e.status?(t.setState({disabledSubmit:!1}),f.toast.error(o.default.ErrorInSubmitReviewForm,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1})):401===e.status?(t.setState({disabledSubmit:!1}),error({title:AllMessage.SessionExpired+e.message,content:"",onOk:function(){that.props.history.push("/signIn")}})):500===e.status?(t.setState({disabledSubmit:!1}),f.toast.error(AllMessage.ErrorInSubmitReviewForm,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}),t.props.history.push("/serverError")):400===e.status?(t.setState({disabledSubmit:!1}),f.toast.error(AllMessage.ErrorInSubmitReviewForm,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}),t.props.history.push("/badRequest")):403===e.status&&(t.setState({disabledSubmit:!1}),f.toast.error(AllMessage.ErrorInSubmitReviewForm,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1}),t.props.history.push("/forbiddenRequest"))})))}))},t.state={IstheproposedresearchrelevancetoFijiContext:null,Pleaseselecttheappropriate:null,referenceNumber:"",disabledSubmit:!1,proposalData:""},t}return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}(a,e),r(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.location.search,t=p.default.parse(a);console.log("&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&"),console.log(t.id);var l=t.id;this.setState({referenceNumber:t.id}),fetch(m.default.APIURL+"/getResearchForView",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({proposalId:l})}).then((function(e){return e.json()})).then((function(a){200===a.status?e.setState({proposalData:a.proposalData}):500===response.status?e.props.history.push("/serverError"):400===response.status?e.props.history.push("/badRequest"):403===response.status&&e.props.history.push("/forbiddenRequest")}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:24},sm:{span:10}},wrapperCol:{xs:{span:24},sm:{span:12}}};return u.default.createElement("div",null,u.default.createElement(c.default,{propertyProps:this.props}),u.default.createElement(i.Card,{className:"cardcss",title:u.default.createElement("b",null,"Review Form"),extra:u.default.createElement(i.Button,{type:"primary",href:"/reviewProposal"},"Back")},u.default.createElement(i.Form,{onSubmit:this.handleSubmit_ReviewForm},u.default.createElement(g,l({},a,{label:"Fiji Human Health Research Ethics Review (FHHRER);Reference number"}),e("proposalId",{initialValue:this.state.referenceNumber,rules:[{required:!0,message:o.default.RequiredField}]})(u.default.createElement(i.Input,{type:"text",readOnly:!0,setFieldsValue:this.state.referenceNumber}))),u.default.createElement(g,l({},a,{label:"Research title"}),e("researchTitle",{initialValue:this.state.researchTitle,rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{type:"text",readOnly:!0,setFieldsValue:this.state.proposalData.title}))),u.default.createElement(g,l({label:"Is the proposed research relevance to fiji context"},a),e("relevanceToFijiContext",{rules:[{required:!0,message:o.default.RequiredField}]})(u.default.createElement(d.default,{onChange:this.handleChange,name:"IstheproposedresearchrelevancetoFijiContext",setFieldsValue:this.state.IstheproposedresearchrelevancetoFijiContext},u.default.createElement(i.Radio,{value:"Yes"},"Yes"),u.default.createElement(i.Radio,{value:"No"},"No"),u.default.createElement(i.Radio,{value:"Not Sure"},"Not Sure"),u.default.createElement(i.Radio,{value:"Unclear"},"Unclear")))),u.default.createElement(g,l({label:" "},a,{colon:!1}),e("relevanceToFijiContextcomment",{rules:[{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,type:"text",placeholder:"Please input  comments to investigator"}))),u.default.createElement(g,l({label:"Will the research contribute to new generalizable knowledge to improve the health of fiji people?"},a),e("contributeToNewGeneralizableKnowledge",{rules:[{required:!0,message:o.default.RequiredField}]})(u.default.createElement(d.default,{onChange:this.handleChange,name:"WilltheresearchcontributetonewgeneralizableknowledgetoimprovethehealthofFijipeople?",setFieldsValue:this.state.WilltheresearchcontributetonewgeneralizableknowledgetoimprovethehealthofFijipeople},u.default.createElement(i.Radio,{value:"Yes"},"Yes"),u.default.createElement(i.Radio,{value:"No"},"No"),u.default.createElement(i.Radio,{value:"Not Sure"},"Not Sure"),u.default.createElement(i.Radio,{value:"Unclear"},"Unclear")))),u.default.createElement(g,l({label:" ",colon:!1},a),e("contributeToNewGeneralizableKnowledgecomment",{rules:[{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,type:"text",placeholder:"Please input comments to investigator"}))),u.default.createElement(i.Divider,{className:"dividerHorViewForm"},"Introduction & Background "),u.default.createElement(g,l({},a,{label:"Statement of the problem"}),e("problemStatement",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,type:"text",placeholder:"Please input problem statement"}))),u.default.createElement(g,l({},a,{colon:!1,label:"Rationale of the study"}),e("rationaleOfTheStudy",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input rational of study"}))),u.default.createElement(g,l({label:"Benefits of study"},a),e("studyBenefits",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input study benefits"}))),u.default.createElement(g,l({label:"Research question, aim, hypothesis/ese"},a),e("researchQuestionAimHypothesisEse",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input research question,aim,hypothesis/ese"}))),u.default.createElement(g,l({label:"Objectives"},a),e("objectives",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input objectives"}))),u.default.createElement(g,l({label:"Review of literature"},a),e("reviewOfLiterature",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input review of literature"}))),u.default.createElement(i.Divider,{className:"dividerHorViewForm"},"Study Methods "),u.default.createElement(g,l({label:"Study design"},a),e("studyDesign",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input study design"}))),u.default.createElement(g,l({label:"Study setting"},a),e("studySetting",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input study setting"}))),u.default.createElement(g,l({label:"Study population or sample"},a),e("studyPopulationOrSample",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input study population or sample"}))),u.default.createElement(g,l({label:"Selection of participants"},a),e("selectionOfParticipants",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input selections of participants"}))),u.default.createElement(g,l({label:"Sampling, sample size & power of study"},a),e("samplingSampleSizeAndPowerOfStudy",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input sampling,sampke size & power of study"}))),u.default.createElement(g,l({},a,{label:"Method for recruitment of participants (where appropriate not in secondary data analysis type of research)"}),e("participantsRecruitmentMethod",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input method for recruitment of participants"}))),u.default.createElement(g,l({label:"Data collection techniques & instruments"},a),e("dataCollectionTechniquesAndInstruments",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input data collection technique & instruments"}))),u.default.createElement(g,l({label:"Cultural sensitivity (where appropriate)"},a),e("culturalSensitivity",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input cultural sensitivy"}))),u.default.createElement(g,l({label:"Reliability & validity of methods & tools"},a),e("reliabilityAndValidityOfMethodsAndTools",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input reliability & validity of methods & tools"}))),u.default.createElement(g,l({label:"Data management"},a),e("dataManagement",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input data management"}))),u.default.createElement(g,l({label:"Data storage"},a),e("dataStorage",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input data storage"}))),u.default.createElement(g,l({label:"Data analysis plan"},a),e("dataAnalysisPlan",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input data analysis plan"}))),u.default.createElement(g,l({label:"Pretest or pilot study where appropriate"},a),e("pretestOrPilotStudy",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input pretest or pilot study"}))),u.default.createElement(i.Divider,{className:"dividerHorViewForm"},"Ethical Consideration"),u.default.createElement(g,l({label:"Confidentiality"},a),e("confidentiality",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input confidentiality"}))),u.default.createElement(g,l({label:"Privacy"},a),e("privacy",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input privacy"}))),u.default.createElement(g,l({label:"Voluntary informed consent"},a),e("voluntaryInformedConsent",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input informed consent"}))),u.default.createElement(g,l({label:"Provision of debriefing, counselling, referral for treatment, and processes to enhance duty of care for participants"},a),e("provisionOfDebriefing",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input provision of debriefing,counselling,referral for tratment and processed to enhance duty of care for participants"}))),u.default.createElement(g,l({label:"Anticipated risks of research & planned methods of management of risks"},a),e("anticipatedRisks",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input anticipated risk"}))),u.default.createElement(i.Divider,{className:"dividerHorViewForm"},"Work Plan"),u.default.createElement(g,l({label:"Timelines/ Gantt chart"},a),e("timelinesOrGanttChart",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input timelines/grantt chart"}))),u.default.createElement(i.Divider,{className:"dividerHorViewForm"},"Budget"),u.default.createElement(g,l({label:"Activities,equipment,personnel etc"},a),e("activitiesEquipmentPersonnel",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input activities,equipment,personnel"}))),u.default.createElement(g,l({label:"Source of funds"},a),e("sourceOfFunds",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input source of funds"}))),u.default.createElement(i.Divider,{className:"dividerHorViewForm"},"Plan for administration, Monitoring & Utilization of results"),u.default.createElement(g,l({label:"Administration monitoring utilization(including publication)"},a),e("administrationMonitoringUtilization",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input administration monitoring utilization"}))),u.default.createElement(i.Divider,{className:"dividerHorViewForm"},"References"),u.default.createElement(g,l({label:"References included"},a),e("references",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input references"}))),u.default.createElement(i.Divider,{className:"dividerHorViewForm"},"Appendices"),u.default.createElement(g,l({label:"Data collection form, tools, surveys, questionnaries, FGD & interview Guides"},a),e("dataCollectionForm",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input data collection form,tools.surveys,questionnaries,fgd & interview guides"}))),u.default.createElement(g,l({label:"Secondary data De-identification/ coding forms"},a),e("secondaryDataForm",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input secondary data De-identification/coding forms"}))),u.default.createElement(g,l({label:"Information statement(s) (written in a language that will be understood by prospective participants.)"},a),e("informationStatements",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input inforation statement(s)"}))),u.default.createElement(g,l({label:"Consent Form(s)"},a),e("consentForms",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input consent form(s)"}))),u.default.createElement(g,l({label:"Third-party consent"},a),e("thirdPartyConsent",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input third party consent"}))),u.default.createElement(g,l({label:"Assent forms"},a),e("assentForms",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input assent form(s)"}))),u.default.createElement(g,l({label:"Translated versions if applicable"},a),e("translatedVersions",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input translated version(s)"}))),u.default.createElement(g,l({label:"Facility Approvals"},a),e("facilityApprovals",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input facility approval"}))),u.default.createElement(g,l({label:"Other country research & ethics approvals"},a),e("otherCountryResearchEthicsApprovals",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input other country research & ethics approvals"}))),u.default.createElement(g,l({label:"General comments"},a),e("generalComments",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input general comments"}))),u.default.createElement(g,l({label:"Recommendation"},a),e("recommendation",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(s.default,{row:3,placeholder:"Please input recommendation"}))),u.default.createElement(g,l({label:"Please select the appropriate"},a),e("selectAppropriate",{rules:[{required:!0,message:o.default.RequiredField},{max:o.default.maxSize,message:o.default.MaxLengthValidation}]})(u.default.createElement(d.default,{name:"Pleaseselecttheappropriate",setFieldsValue:this.state.Pleaseselecttheappropriate,onChange:this.handleChange,placeholder:"Please select appropriate"},u.default.createElement(i.Radio,{value:"Fully Endorsed: No Changes Required"},"Fully Endorsed: No Changes Required"),u.default.createElement(i.Radio,{value:"Endorsed pending Minor Changes"},"Endorsed pending Minor Changes"),u.default.createElement(i.Radio,{value:"Resubmit (Major Changes Required)"},"Resubmit (Major Changes Required)")))),u.default.createElement(g,{wrapperCol:{xs:24,sm:{span:12,offset:5}}},u.default.createElement(i.Button,{type:"primary",htmlType:"submit",disabled:this.state.disabledSubmit},"Submit")))))}}]),a}(n.Component),b=i.Form.create()(x);a.default=b}}]);